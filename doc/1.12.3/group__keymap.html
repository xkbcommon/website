<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.16.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libxkbcommon: Keymap Creation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libxkbcommon<span id="projectnumber">&#160;1.12.3</span>
   </div>
   <div id="projectbrief">Library implementing the XKB specification for parsing                           keyboard descriptions and handling keyboard state</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.16.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Keymap Creation </div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-define-members" class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga95e4461eb947cc61c3574ee4f0d24fb6" id="r_ga95e4461eb947cc61c3574ee4f0d24fb6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga95e4461eb947cc61c3574ee4f0d24fb6">XKB_KEYMAP_USE_ORIGINAL_FORMAT</a>&#160;&#160;&#160;((enum <a class="el" href="#gab0f75d6cc5773e5dd404e2c3f61366a3">xkb_keymap_format</a>) -1)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-enum-members" class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gad418fa5861e00b37c362075a380299b2" id="r_gad418fa5861e00b37c362075a380299b2"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad418fa5861e00b37c362075a380299b2">xkb_keymap_compile_flags</a> { <a class="el" href="#ggad418fa5861e00b37c362075a380299b2ae274bf0a09997d395e712156b0dbf7fa">XKB_KEYMAP_COMPILE_NO_FLAGS</a> = 0
 }</td></tr>
<tr class="memitem:gab0f75d6cc5773e5dd404e2c3f61366a3" id="r_gab0f75d6cc5773e5dd404e2c3f61366a3"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab0f75d6cc5773e5dd404e2c3f61366a3">xkb_keymap_format</a> { <br />
&#160;&#160;<a class="el" href="#ggab0f75d6cc5773e5dd404e2c3f61366a3ad63ee709a87611a89b42c3e1275347ed">XKB_KEYMAP_FORMAT_TEXT_V1</a> = 1
, <br />
&#160;&#160;<a class="el" href="#ggab0f75d6cc5773e5dd404e2c3f61366a3a3a8d8e0c27ea5b4dc56a30b973ce6402">XKB_KEYMAP_FORMAT_TEXT_V2</a> = 2
<br />
 }</td></tr>
<tr class="memitem:ga4701abb896607d318254bcd26c7905ac" id="r_ga4701abb896607d318254bcd26c7905ac"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4701abb896607d318254bcd26c7905ac">xkb_keymap_serialize_flags</a> { <br />
&#160;&#160;<a class="el" href="#gga4701abb896607d318254bcd26c7905aca53b46bc7f29edd9178cf3d66c678b677">XKB_KEYMAP_SERIALIZE_NO_FLAGS</a> = 0
, <br />
&#160;&#160;<a class="el" href="#gga4701abb896607d318254bcd26c7905aca9bced62f03866bb33ad1584c0a9e43da">XKB_KEYMAP_SERIALIZE_PRETTY</a> = (1 &lt;&lt; 0)
, <br />
&#160;&#160;<a class="el" href="#gga4701abb896607d318254bcd26c7905aca37962ae86aa09ece064d75c34c12fc7d">XKB_KEYMAP_SERIALIZE_KEEP_UNUSED</a> = (1 &lt;&lt; 1)
<br />
 }</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga586ab848cd8b61b4b24d9e9407e3ada1" id="r_ga586ab848cd8b61b4b24d9e9407e3ada1"><td class="memItemLeft" align="right" valign="top">XKB_EXPORT struct <a class="el" href="structxkb__keymap.html">xkb_keymap</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga586ab848cd8b61b4b24d9e9407e3ada1">xkb_keymap::xkb_keymap_new_from_rmlvo</a> (const struct <a class="el" href="structxkb__rmlvo__builder.html">xkb_rmlvo_builder</a> *rmlvo, enum <a class="el" href="#gab0f75d6cc5773e5dd404e2c3f61366a3">xkb_keymap_format</a> format, enum <a class="el" href="#gad418fa5861e00b37c362075a380299b2">xkb_keymap_compile_flags</a> flags)</td></tr>
<tr class="memitem:ga3a2d973b77325337f043a37edf4cc4e1" id="r_ga3a2d973b77325337f043a37edf4cc4e1"><td class="memItemLeft" align="right" valign="top">XKB_EXPORT struct <a class="el" href="structxkb__keymap.html">xkb_keymap</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3a2d973b77325337f043a37edf4cc4e1">xkb_keymap::xkb_keymap_new_from_names</a> (struct <a class="el" href="structxkb__context.html">xkb_context</a> *context, const struct <a class="el" href="structxkb__rule__names.html">xkb_rule_names</a> *names, enum <a class="el" href="#gad418fa5861e00b37c362075a380299b2">xkb_keymap_compile_flags</a> flags)</td></tr>
<tr class="memitem:gab500a4d834bb839067c5c5fc2144d457" id="r_gab500a4d834bb839067c5c5fc2144d457"><td class="memItemLeft" align="right" valign="top">XKB_EXPORT struct <a class="el" href="structxkb__keymap.html">xkb_keymap</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab500a4d834bb839067c5c5fc2144d457">xkb_keymap::xkb_keymap_new_from_names2</a> (struct <a class="el" href="structxkb__context.html">xkb_context</a> *context, const struct <a class="el" href="structxkb__rule__names.html">xkb_rule_names</a> *names, enum <a class="el" href="#gab0f75d6cc5773e5dd404e2c3f61366a3">xkb_keymap_format</a> format, enum <a class="el" href="#gad418fa5861e00b37c362075a380299b2">xkb_keymap_compile_flags</a> flags)</td></tr>
<tr class="memitem:gaaaeb8d2216e3f7877574e8a93e2bca48" id="r_gaaaeb8d2216e3f7877574e8a93e2bca48"><td class="memItemLeft" align="right" valign="top">XKB_EXPORT struct <a class="el" href="structxkb__keymap.html">xkb_keymap</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaaaeb8d2216e3f7877574e8a93e2bca48">xkb_keymap::xkb_keymap_new_from_file</a> (struct <a class="el" href="structxkb__context.html">xkb_context</a> *context, FILE *file, enum <a class="el" href="#gab0f75d6cc5773e5dd404e2c3f61366a3">xkb_keymap_format</a> format, enum <a class="el" href="#gad418fa5861e00b37c362075a380299b2">xkb_keymap_compile_flags</a> flags)</td></tr>
<tr class="memitem:ga8d47182d367aa041b380fb49a61660bd" id="r_ga8d47182d367aa041b380fb49a61660bd"><td class="memItemLeft" align="right" valign="top">XKB_EXPORT struct <a class="el" href="structxkb__keymap.html">xkb_keymap</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga8d47182d367aa041b380fb49a61660bd">xkb_keymap::xkb_keymap_new_from_string</a> (struct <a class="el" href="structxkb__context.html">xkb_context</a> *context, const char *string, enum <a class="el" href="#gab0f75d6cc5773e5dd404e2c3f61366a3">xkb_keymap_format</a> format, enum <a class="el" href="#gad418fa5861e00b37c362075a380299b2">xkb_keymap_compile_flags</a> flags)</td></tr>
<tr class="memitem:gaa6e1cc388df956a7f4f99214a1077186" id="r_gaa6e1cc388df956a7f4f99214a1077186"><td class="memItemLeft" align="right" valign="top">XKB_EXPORT struct <a class="el" href="structxkb__keymap.html">xkb_keymap</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa6e1cc388df956a7f4f99214a1077186">xkb_keymap::xkb_keymap_new_from_buffer</a> (struct <a class="el" href="structxkb__context.html">xkb_context</a> *context, const char *buffer, size_t length, enum <a class="el" href="#gab0f75d6cc5773e5dd404e2c3f61366a3">xkb_keymap_format</a> format, enum <a class="el" href="#gad418fa5861e00b37c362075a380299b2">xkb_keymap_compile_flags</a> flags)</td></tr>
<tr class="memitem:ga8583908ced66661202a9825b95daec68" id="r_ga8583908ced66661202a9825b95daec68"><td class="memItemLeft" align="right" valign="top">XKB_EXPORT struct <a class="el" href="structxkb__keymap.html">xkb_keymap</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga8583908ced66661202a9825b95daec68">xkb_keymap::xkb_keymap_ref</a> (struct <a class="el" href="structxkb__keymap.html">xkb_keymap</a> *keymap)</td></tr>
<tr class="memitem:ga7b14f8b52989b6ec2382f51eb346b9ed" id="r_ga7b14f8b52989b6ec2382f51eb346b9ed"><td class="memItemLeft" align="right" valign="top">XKB_EXPORT void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7b14f8b52989b6ec2382f51eb346b9ed">xkb_keymap::xkb_keymap_unref</a> (struct <a class="el" href="structxkb__keymap.html">xkb_keymap</a> *keymap)</td></tr>
<tr class="memitem:gad41304fe0b54e1cc5739b12a4796396b" id="r_gad41304fe0b54e1cc5739b12a4796396b"><td class="memItemLeft" align="right" valign="top">XKB_EXPORT char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad41304fe0b54e1cc5739b12a4796396b">xkb_keymap::xkb_keymap_get_as_string</a> (struct <a class="el" href="structxkb__keymap.html">xkb_keymap</a> *keymap, enum <a class="el" href="#gab0f75d6cc5773e5dd404e2c3f61366a3">xkb_keymap_format</a> format)</td></tr>
<tr class="memitem:gadb909827cba2a5ad0913e2c23db402ee" id="r_gadb909827cba2a5ad0913e2c23db402ee"><td class="memItemLeft" align="right" valign="top">XKB_EXPORT char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gadb909827cba2a5ad0913e2c23db402ee">xkb_keymap::xkb_keymap_get_as_string2</a> (struct <a class="el" href="structxkb__keymap.html">xkb_keymap</a> *keymap, enum <a class="el" href="#gab0f75d6cc5773e5dd404e2c3f61366a3">xkb_keymap_format</a> format, enum <a class="el" href="#ga4701abb896607d318254bcd26c7905ac">xkb_keymap_serialize_flags</a> flags)</td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<p>Creating and destroying keymaps. </p>
<a name="doc-define-members" id="doc-define-members"></a><h2 id="header-doc-define-members" class="groupheader">Macro Definition Documentation</h2>
<a id="ga95e4461eb947cc61c3574ee4f0d24fb6" name="ga95e4461eb947cc61c3574ee4f0d24fb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga95e4461eb947cc61c3574ee4f0d24fb6">&#9670;&#160;</a></span>XKB_KEYMAP_USE_ORIGINAL_FORMAT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define XKB_KEYMAP_USE_ORIGINAL_FORMAT&#160;&#160;&#160;((enum <a class="el" href="#gab0f75d6cc5773e5dd404e2c3f61366a3">xkb_keymap_format</a>) -1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the keymap as a string in the format from which it was created. </p>
<dl class="section see"><dt>See also</dt><dd><span class="tt"><a class="el" href="#gad41304fe0b54e1cc5739b12a4796396b" title="Get the compiled keymap as a string.">xkb_keymap::xkb_keymap_get_as_string()</a></span> </dd></dl>

</div>
</div>
<a name="doc-enum-members" id="doc-enum-members"></a><h2 id="header-doc-enum-members" class="groupheader">Enumeration Type Documentation</h2>
<a id="gad418fa5861e00b37c362075a380299b2" name="gad418fa5861e00b37c362075a380299b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad418fa5861e00b37c362075a380299b2">&#9670;&#160;</a></span>xkb_keymap_compile_flags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#gad418fa5861e00b37c362075a380299b2">xkb_keymap_compile_flags</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flags for keymap compilation. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggad418fa5861e00b37c362075a380299b2ae274bf0a09997d395e712156b0dbf7fa" name="ggad418fa5861e00b37c362075a380299b2ae274bf0a09997d395e712156b0dbf7fa"></a>XKB_KEYMAP_COMPILE_NO_FLAGS&#160;</td><td class="fielddoc"><p>Do not apply any flags. </p>
</td></tr>
</table>

</div>
</div>
<a id="gab0f75d6cc5773e5dd404e2c3f61366a3" name="gab0f75d6cc5773e5dd404e2c3f61366a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab0f75d6cc5773e5dd404e2c3f61366a3">&#9670;&#160;</a></span>xkb_keymap_format</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#gab0f75d6cc5773e5dd404e2c3f61366a3">xkb_keymap_format</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The possible keymap formats. </p>
<p>See <a class="el" href="keymap-text-format-v1-v2.html">The XKB keymap text format, V1 and V2</a> for the complete description of the formats and <a class="el" href="xkbcommon-compatibility.html#keymap-support">Keymap support</a> for detailed differences between the formats.</p>
<dl class="section remark"><dt>Remarks</dt><dd>A keymap can be parsed in one format and serialized in another, thanks to automatic fallback mechanisms.</dd></dl>
<table class="doxtable">
<caption>Keymap format to use depending on the target protocol </caption>
<tr>
<th colspan="2">Protocol</th><th colspan="2">libxkbcommon keymap format</th></tr>
<tr>
<th>Name</th><th>Keymap format</th><th>Parsing</th><th>Serialization</th></tr>
<tr>
<th>X11</th><td>XKB</td><td><span class="tt"><a class="el" href="#ggab0f75d6cc5773e5dd404e2c3f61366a3ad63ee709a87611a89b42c3e1275347ed" title="The classic XKB text format, as generated by xkbcomp -xkb.">XKB_KEYMAP_FORMAT_TEXT_V1</a></span> </td><td><em>Always</em> use <span class="tt"><a class="el" href="#ggab0f75d6cc5773e5dd404e2c3f61366a3ad63ee709a87611a89b42c3e1275347ed" title="The classic XKB text format, as generated by xkbcomp -xkb.">XKB_KEYMAP_FORMAT_TEXT_V1</a></span>, since the other formats are incompatible. </td></tr>
<tr>
<th>Wayland</th><td><code><a href="https://wayland.freedesktop.org/docs/html/apa.html#protocol-spec-wl_keyboard-enum-keymap_format">xkb_v1</a></code></td><td><dl>
<dt>Wayland compositors</dt>
<dd></dd>
<dt></dt>
<dd>The format depends on the keyboard layout database (usually <a href="https://gitlab.freedesktop.org/xkeyboard-config/xkeyboard-config">xkeyboard-config</a>). Note that since v2 is a superset of v1, compositors are encouraged to use <span class="tt"><a class="el" href="#ggab0f75d6cc5773e5dd404e2c3f61366a3a3a8d8e0c27ea5b4dc56a30b973ce6402" title="Xkbcommon extensions of the classic XKB text format, incompatible with X11.">XKB_KEYMAP_FORMAT_TEXT_V2</a></span> whenever possible.  </dd>
<dt>Client apps </dt>
<dd>Clients should use <span class="tt"><a class="el" href="#ggab0f75d6cc5773e5dd404e2c3f61366a3ad63ee709a87611a89b42c3e1275347ed" title="The classic XKB text format, as generated by xkbcomp -xkb.">XKB_KEYMAP_FORMAT_TEXT_V1</a></span> to parse the keymap sent by a Wayland compositor, at least until <span class="tt"><a class="el" href="#ggab0f75d6cc5773e5dd404e2c3f61366a3a3a8d8e0c27ea5b4dc56a30b973ce6402" title="Xkbcommon extensions of the classic XKB text format, incompatible with X11.">XKB_KEYMAP_FORMAT_TEXT_V2</a></span> stabilizes.  </dd>
</dl>
</td><td><p class="starttd">At the time of writing (July 2025), the Wayland <code><a href="https://wayland.freedesktop.org/docs/html/apa.html#protocol-spec-wl_keyboard-enum-keymap_format">xkb_v1</a></code> keymap format is only defined as “libxkbcommon compatible”. In theory it enables flexibility, but the set of supported features varies depending on the libxkbcommon version and libxkbcommon keymap format used. Unfortunately there is currently no Wayland API for keymap format <em>negotiation</em>.</p>
<p class="intertd">Therefore the <b>recommended</b> serialization format is <span class="tt"><a class="el" href="#ggab0f75d6cc5773e5dd404e2c3f61366a3ad63ee709a87611a89b42c3e1275347ed" title="The classic XKB text format, as generated by xkbcomp -xkb.">XKB_KEYMAP_FORMAT_TEXT_V1</a></span>, in order to ensure maximum compatibility for interchange.</p>
<p class="endtd">Serializing using <span class="tt"><a class="el" href="#ggab0f75d6cc5773e5dd404e2c3f61366a3a3a8d8e0c27ea5b4dc56a30b973ce6402" title="Xkbcommon extensions of the classic XKB text format, incompatible with X11.">XKB_KEYMAP_FORMAT_TEXT_V2</a></span> should be considered <b>experimental</b>, as some clients may fail to parse the resulting string. </p>
</td></tr>
</table>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggab0f75d6cc5773e5dd404e2c3f61366a3ad63ee709a87611a89b42c3e1275347ed" name="ggab0f75d6cc5773e5dd404e2c3f61366a3ad63ee709a87611a89b42c3e1275347ed"></a>XKB_KEYMAP_FORMAT_TEXT_V1&#160;</td><td class="fielddoc"><p>The classic XKB text format, as generated by <span class="tt">xkbcomp -xkb</span>. </p>
<dl class="section important"><dt>Important</dt><dd>This format should <em>always</em> be used when <em>serializing</em> a keymap for <b>X11</b>.</dd>
<dd>
For the <b>Wayland</b> <code><a href="https://wayland.freedesktop.org/docs/html/apa.html#protocol-spec-wl_keyboard-enum-keymap_format">xkb_v1</a></code> format, it is advised to use this format as well for serializing, in order to ensure maximum compatibility for interchange. </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="ggab0f75d6cc5773e5dd404e2c3f61366a3a3a8d8e0c27ea5b4dc56a30b973ce6402" name="ggab0f75d6cc5773e5dd404e2c3f61366a3a3a8d8e0c27ea5b4dc56a30b973ce6402"></a>XKB_KEYMAP_FORMAT_TEXT_V2&#160;</td><td class="fielddoc"><p>Xkbcommon extensions of the classic XKB text format, <b>incompatible with X11</b>. </p>
<dl class="section important"><dt>Important</dt><dd>Do <em>not</em> use when <em>serializing</em> a keymap for <b>X11</b> (incompatible).</dd>
<dd>
Considered <em>experimental</em> when <em>serializing</em> for <b>Wayland</b>: at the time of writing (July 2025), there is only one XKB keymap format <code><a href="https://wayland.freedesktop.org/docs/html/apa.html#protocol-spec-wl_keyboard-enum-keymap_format">xkb_v1</a></code> in Wayland and no Wayland API for keymap format <em>negotiation</em>, so the clients may not be able to parse the keymap if it uses v2-specific features. Therefore a compositor may <em>parse</em> keymaps using <span class="tt"><a class="el" href="#ggab0f75d6cc5773e5dd404e2c3f61366a3a3a8d8e0c27ea5b4dc56a30b973ce6402" title="Xkbcommon extensions of the classic XKB text format, incompatible with X11.">XKB_KEYMAP_FORMAT_TEXT_V2</a></span> but it should serialize them using <span class="tt"><a class="el" href="#ggab0f75d6cc5773e5dd404e2c3f61366a3ad63ee709a87611a89b42c3e1275347ed" title="The classic XKB text format, as generated by xkbcomp -xkb.">XKB_KEYMAP_FORMAT_TEXT_V1</a></span> and rely on the automatic <em>fallback</em> mechanisms.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.11.0 </dd></dl>
</td></tr>
</table>

</div>
</div>
<a id="ga4701abb896607d318254bcd26c7905ac" name="ga4701abb896607d318254bcd26c7905ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4701abb896607d318254bcd26c7905ac">&#9670;&#160;</a></span>xkb_keymap_serialize_flags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#ga4701abb896607d318254bcd26c7905ac">xkb_keymap_serialize_flags</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flags to control keymap serialization. </p>
<dl class="section since"><dt>Since</dt><dd>1.12.0 </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga4701abb896607d318254bcd26c7905aca53b46bc7f29edd9178cf3d66c678b677" name="gga4701abb896607d318254bcd26c7905aca53b46bc7f29edd9178cf3d66c678b677"></a>XKB_KEYMAP_SERIALIZE_NO_FLAGS&#160;</td><td class="fielddoc"><p>Do not apply any flags. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga4701abb896607d318254bcd26c7905aca9bced62f03866bb33ad1584c0a9e43da" name="gga4701abb896607d318254bcd26c7905aca9bced62f03866bb33ad1584c0a9e43da"></a>XKB_KEYMAP_SERIALIZE_PRETTY&#160;</td><td class="fielddoc"><p>Enable pretty-printing. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga4701abb896607d318254bcd26c7905aca37962ae86aa09ece064d75c34c12fc7d" name="gga4701abb896607d318254bcd26c7905aca37962ae86aa09ece064d75c34c12fc7d"></a>XKB_KEYMAP_SERIALIZE_KEEP_UNUSED&#160;</td><td class="fielddoc"><p>Do not drop unused bits (key types, compatibility entries). </p>
</td></tr>
</table>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="ga586ab848cd8b61b4b24d9e9407e3ada1" name="ga586ab848cd8b61b4b24d9e9407e3ada1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga586ab848cd8b61b4b24d9e9407e3ada1">&#9670;&#160;</a></span>xkb_keymap_new_from_rmlvo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XKB_EXPORT struct <a class="el" href="structxkb__keymap.html">xkb_keymap</a> * xkb_keymap_new_from_rmlvo </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structxkb__rmlvo__builder.html">xkb_rmlvo_builder</a> *</td>          <td class="paramname"><span class="paramname"><em>rmlvo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="#gab0f75d6cc5773e5dd404e2c3f61366a3">xkb_keymap_format</a></td>          <td class="paramname"><span class="paramname"><em>format</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="#gad418fa5861e00b37c362075a380299b2">xkb_keymap_compile_flags</a></td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a keymap from a <a class="el" href="xkb-intro.html#RMLVO-intro">RMLVO</a> builder. </p>
<p>The primary keymap entry point: creates a new XKB keymap from a set of <a class="el" href="xkb-intro.html#RMLVO-intro">RMLVO</a> (Rules + Model + Layouts + Variants + Options) names.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rmlvo</td><td>The <a class="el" href="xkb-intro.html#RMLVO-intro">RMLVO</a> builder to use. See <span class="tt"><a class="el" href="structxkb__rmlvo__builder.html" title="Opaque RMLVO configuration object.">xkb_rmlvo_builder</a></span>. </td></tr>
    <tr><td class="paramname">format</td><td>The text format of the keymap file to compile. </td></tr>
    <tr><td class="paramname">flags</td><td>Optional flags for the keymap, or 0.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A keymap compiled according to the <a class="el" href="xkb-intro.html#RMLVO-intro">RMLVO</a> names, or <span class="tt">NULL</span> if the compilation failed.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.11.0 </dd></dl>
<dl class="section see"><dt>See also</dt><dd><span class="tt"><a class="el" href="#gab500a4d834bb839067c5c5fc2144d457" title="Create a keymap from RMLVO names.">xkb_keymap_new_from_names2()</a></span> </dd>
<dd>
<span class="tt"><a class="el" href="structxkb__rmlvo__builder.html" title="Opaque RMLVO configuration object.">xkb_rmlvo_builder</a></span> </dd></dl>

</div>
</div>
<a id="ga3a2d973b77325337f043a37edf4cc4e1" name="ga3a2d973b77325337f043a37edf4cc4e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3a2d973b77325337f043a37edf4cc4e1">&#9670;&#160;</a></span>xkb_keymap_new_from_names()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XKB_EXPORT struct <a class="el" href="structxkb__keymap.html">xkb_keymap</a> * xkb_keymap_new_from_names </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxkb__context.html">xkb_context</a> *</td>          <td class="paramname"><span class="paramname"><em>context</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structxkb__rule__names.html">xkb_rule_names</a> *</td>          <td class="paramname"><span class="paramname"><em>names</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="#gad418fa5861e00b37c362075a380299b2">xkb_keymap_compile_flags</a></td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a keymap from <a class="el" href="xkb-intro.html#RMLVO-intro">RMLVO</a> names. </p>
<p>Same as <span class="tt"><a class="el" href="#gab500a4d834bb839067c5c5fc2144d457" title="Create a keymap from RMLVO names.">xkb_keymap_new_from_names2()</a></span>, but with the keymap format fixed to: <span class="tt"><a class="el" href="#ggab0f75d6cc5773e5dd404e2c3f61366a3a3a8d8e0c27ea5b4dc56a30b973ce6402" title="Xkbcommon extensions of the classic XKB text format, incompatible with X11.">XKB_KEYMAP_FORMAT_TEXT_V2</a></span>.</p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000002">Deprecated</a></b></dt><dd>Use <span class="tt"><a class="el" href="#gab500a4d834bb839067c5c5fc2144d457" title="Create a keymap from RMLVO names.">xkb_keymap_new_from_names2()</a></span> instead. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.11.0: Deprecated </dd>
<dd>
1.11.0: Use internally <span class="tt"><a class="el" href="#ggab0f75d6cc5773e5dd404e2c3f61366a3a3a8d8e0c27ea5b4dc56a30b973ce6402" title="Xkbcommon extensions of the classic XKB text format, incompatible with X11.">XKB_KEYMAP_FORMAT_TEXT_V2</a></span> instead of <span class="tt"><a class="el" href="#ggab0f75d6cc5773e5dd404e2c3f61366a3ad63ee709a87611a89b42c3e1275347ed" title="The classic XKB text format, as generated by xkbcomp -xkb.">XKB_KEYMAP_FORMAT_TEXT_V1</a></span> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><span class="tt"><a class="el" href="#gab500a4d834bb839067c5c5fc2144d457" title="Create a keymap from RMLVO names.">xkb_keymap_new_from_names2()</a></span> </dd>
<dd>
<span class="tt"><a class="el" href="structxkb__rule__names.html" title="Names to compile a keymap with, also known as RMLVO.">xkb_rule_names</a></span> </dd>
<dd>
<span class="tt"><a class="el" href="#ga586ab848cd8b61b4b24d9e9407e3ada1" title="Create a keymap from a RMLVO builder.">xkb_keymap_new_from_rmlvo()</a></span> </dd></dl>

</div>
</div>
<a id="gab500a4d834bb839067c5c5fc2144d457" name="gab500a4d834bb839067c5c5fc2144d457"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab500a4d834bb839067c5c5fc2144d457">&#9670;&#160;</a></span>xkb_keymap_new_from_names2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XKB_EXPORT struct <a class="el" href="structxkb__keymap.html">xkb_keymap</a> * xkb_keymap_new_from_names2 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxkb__context.html">xkb_context</a> *</td>          <td class="paramname"><span class="paramname"><em>context</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structxkb__rule__names.html">xkb_rule_names</a> *</td>          <td class="paramname"><span class="paramname"><em>names</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="#gab0f75d6cc5773e5dd404e2c3f61366a3">xkb_keymap_format</a></td>          <td class="paramname"><span class="paramname"><em>format</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="#gad418fa5861e00b37c362075a380299b2">xkb_keymap_compile_flags</a></td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a keymap from <a class="el" href="xkb-intro.html#RMLVO-intro">RMLVO</a> names. </p>
<p>The primary keymap entry point: creates a new XKB keymap from a set of <a class="el" href="xkb-intro.html#RMLVO-intro">RMLVO</a> (Rules + Model + Layouts + Variants + Options) names.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The context in which to create the keymap. </td></tr>
    <tr><td class="paramname">names</td><td>The <a class="el" href="xkb-intro.html#RMLVO-intro">RMLVO</a> names to use. See <a class="el" href="structxkb__rule__names.html" title="Names to compile a keymap with, also known as RMLVO.">xkb_rule_names</a>. </td></tr>
    <tr><td class="paramname">format</td><td>The text format of the keymap file to compile. </td></tr>
    <tr><td class="paramname">flags</td><td>Optional flags for the keymap, or 0.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A keymap compiled according to the <a class="el" href="xkb-intro.html#RMLVO-intro">RMLVO</a> names, or <span class="tt">NULL</span> if the compilation failed.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><span class="tt"><a class="el" href="structxkb__rule__names.html" title="Names to compile a keymap with, also known as RMLVO.">xkb_rule_names</a></span> </dd>
<dd>
<span class="tt"><a class="el" href="#ga586ab848cd8b61b4b24d9e9407e3ada1" title="Create a keymap from a RMLVO builder.">xkb_keymap_new_from_rmlvo()</a></span></dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.11.0 </dd></dl>

</div>
</div>
<a id="gaaaeb8d2216e3f7877574e8a93e2bca48" name="gaaaeb8d2216e3f7877574e8a93e2bca48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaaeb8d2216e3f7877574e8a93e2bca48">&#9670;&#160;</a></span>xkb_keymap_new_from_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XKB_EXPORT struct <a class="el" href="structxkb__keymap.html">xkb_keymap</a> * xkb_keymap_new_from_file </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxkb__context.html">xkb_context</a> *</td>          <td class="paramname"><span class="paramname"><em>context</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *</td>          <td class="paramname"><span class="paramname"><em>file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="#gab0f75d6cc5773e5dd404e2c3f61366a3">xkb_keymap_format</a></td>          <td class="paramname"><span class="paramname"><em>format</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="#gad418fa5861e00b37c362075a380299b2">xkb_keymap_compile_flags</a></td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a keymap from a keymap file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The context in which to create the keymap. </td></tr>
    <tr><td class="paramname">file</td><td>The keymap file to compile. </td></tr>
    <tr><td class="paramname">format</td><td>The text format of the keymap file to compile. </td></tr>
    <tr><td class="paramname">flags</td><td>Optional flags for the keymap, or 0.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A keymap compiled from the given XKB keymap file, or <span class="tt">NULL</span> if the compilation failed.</dd></dl>
<p>The file must contain a complete keymap. For example, in the <span class="tt"><a class="el" href="#ggab0f75d6cc5773e5dd404e2c3f61366a3ad63ee709a87611a89b42c3e1275347ed" title="The classic XKB text format, as generated by xkbcomp -xkb.">XKB_KEYMAP_FORMAT_TEXT_V1</a></span> format, this means the file must contain one top level <span class="tt">xkb_keymap</span> section, which in turn contains other required sections. </p>

</div>
</div>
<a id="ga8d47182d367aa041b380fb49a61660bd" name="ga8d47182d367aa041b380fb49a61660bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8d47182d367aa041b380fb49a61660bd">&#9670;&#160;</a></span>xkb_keymap_new_from_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XKB_EXPORT struct <a class="el" href="structxkb__keymap.html">xkb_keymap</a> * xkb_keymap_new_from_string </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxkb__context.html">xkb_context</a> *</td>          <td class="paramname"><span class="paramname"><em>context</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>string</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="#gab0f75d6cc5773e5dd404e2c3f61366a3">xkb_keymap_format</a></td>          <td class="paramname"><span class="paramname"><em>format</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="#gad418fa5861e00b37c362075a380299b2">xkb_keymap_compile_flags</a></td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a keymap from a keymap string. </p>
<p>This is just like <span class="tt"><a class="el" href="#gaaaeb8d2216e3f7877574e8a93e2bca48" title="Create a keymap from a keymap file.">xkb_keymap_new_from_file()</a></span>, but instead of a file, gets the keymap as one enormous string.</p>
<dl class="section see"><dt>See also</dt><dd><span class="tt"><a class="el" href="#gaaaeb8d2216e3f7877574e8a93e2bca48" title="Create a keymap from a keymap file.">xkb_keymap_new_from_file()</a></span> </dd></dl>

</div>
</div>
<a id="gaa6e1cc388df956a7f4f99214a1077186" name="gaa6e1cc388df956a7f4f99214a1077186"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa6e1cc388df956a7f4f99214a1077186">&#9670;&#160;</a></span>xkb_keymap_new_from_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XKB_EXPORT struct <a class="el" href="structxkb__keymap.html">xkb_keymap</a> * xkb_keymap_new_from_buffer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxkb__context.html">xkb_context</a> *</td>          <td class="paramname"><span class="paramname"><em>context</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>buffer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>length</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="#gab0f75d6cc5773e5dd404e2c3f61366a3">xkb_keymap_format</a></td>          <td class="paramname"><span class="paramname"><em>format</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="#gad418fa5861e00b37c362075a380299b2">xkb_keymap_compile_flags</a></td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a keymap from a memory buffer. </p>
<p>This is just like <span class="tt"><a class="el" href="#ga8d47182d367aa041b380fb49a61660bd" title="Create a keymap from a keymap string.">xkb_keymap_new_from_string()</a></span>, but takes a length argument so the input string does not have to be zero-terminated.</p>
<dl class="section see"><dt>See also</dt><dd><span class="tt"><a class="el" href="#ga8d47182d367aa041b380fb49a61660bd" title="Create a keymap from a keymap string.">xkb_keymap_new_from_string()</a></span></dd></dl>
<dl class="section since"><dt>Since</dt><dd>0.3.0 </dd></dl>

</div>
</div>
<a id="ga8583908ced66661202a9825b95daec68" name="ga8583908ced66661202a9825b95daec68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8583908ced66661202a9825b95daec68">&#9670;&#160;</a></span>xkb_keymap_ref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XKB_EXPORT struct <a class="el" href="structxkb__keymap.html">xkb_keymap</a> * xkb_keymap_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxkb__keymap.html">xkb_keymap</a> *</td>          <td class="paramname"><span class="paramname"><em>keymap</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Take a new reference on a keymap. </p>
<dl class="section return"><dt>Returns</dt><dd>The passed in keymap. </dd></dl>

</div>
</div>
<a id="ga7b14f8b52989b6ec2382f51eb346b9ed" name="ga7b14f8b52989b6ec2382f51eb346b9ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7b14f8b52989b6ec2382f51eb346b9ed">&#9670;&#160;</a></span>xkb_keymap_unref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XKB_EXPORT void xkb_keymap_unref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxkb__keymap.html">xkb_keymap</a> *</td>          <td class="paramname"><span class="paramname"><em>keymap</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release a reference on a keymap, and possibly free it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">keymap</td><td>The keymap. If it is <span class="tt">NULL</span>, this function does nothing. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad41304fe0b54e1cc5739b12a4796396b" name="gad41304fe0b54e1cc5739b12a4796396b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad41304fe0b54e1cc5739b12a4796396b">&#9670;&#160;</a></span>xkb_keymap_get_as_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XKB_EXPORT char * xkb_keymap_get_as_string </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxkb__keymap.html">xkb_keymap</a> *</td>          <td class="paramname"><span class="paramname"><em>keymap</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="#gab0f75d6cc5773e5dd404e2c3f61366a3">xkb_keymap_format</a></td>          <td class="paramname"><span class="paramname"><em>format</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the compiled keymap as a string. </p>
<p>Same as <span class="tt"><a class="el" href="#gadb909827cba2a5ad0913e2c23db402ee" title="Get the compiled keymap as a string.">xkb_keymap::xkb_keymap_get_as_string2()</a></span> using <span class="tt"><a class="el" href="#gga4701abb896607d318254bcd26c7905aca53b46bc7f29edd9178cf3d66c678b677" title="Do not apply any flags.">XKB_KEYMAP_SERIALIZE_NO_FLAGS</a></span>.</p>
<dl class="section since"><dt>Since</dt><dd>1.12.0: Drop unused types and compatibility entries and do not pretty-print.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><span class="tt"><a class="el" href="#gadb909827cba2a5ad0913e2c23db402ee" title="Get the compiled keymap as a string.">xkb_keymap::xkb_keymap_get_as_string2()</a></span> </dd></dl>

</div>
</div>
<a id="gadb909827cba2a5ad0913e2c23db402ee" name="gadb909827cba2a5ad0913e2c23db402ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadb909827cba2a5ad0913e2c23db402ee">&#9670;&#160;</a></span>xkb_keymap_get_as_string2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XKB_EXPORT char * xkb_keymap_get_as_string2 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxkb__keymap.html">xkb_keymap</a> *</td>          <td class="paramname"><span class="paramname"><em>keymap</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="#gab0f75d6cc5773e5dd404e2c3f61366a3">xkb_keymap_format</a></td>          <td class="paramname"><span class="paramname"><em>format</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="#ga4701abb896607d318254bcd26c7905ac">xkb_keymap_serialize_flags</a></td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the compiled keymap as a string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">keymap</td><td>The keymap to get as a string. </td></tr>
    <tr><td class="paramname">format</td><td>The keymap format to use for the string. You can pass in the special value <span class="tt"><a class="el" href="#ga95e4461eb947cc61c3574ee4f0d24fb6" title="Get the keymap as a string in the format from which it was created.">XKB_KEYMAP_USE_ORIGINAL_FORMAT</a></span> to use the format from which the keymap was originally created. When used as an <em>interchange</em> format such as Wayland <code><a href="https://wayland.freedesktop.org/docs/html/apa.html#protocol-spec-wl_keyboard-enum-keymap_format">xkb_v1</a></code>, the format should be explicit. </td></tr>
    <tr><td class="paramname">flags</td><td>Optional flags to control the serialization, or 0.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The keymap as a <span class="tt">NULL</span>-terminated string, or <span class="tt">NULL</span> if unsuccessful.</dd></dl>
<p>The returned string may be fed back into <span class="tt"><a class="el" href="#ga8d47182d367aa041b380fb49a61660bd" title="Create a keymap from a keymap string.">xkb_keymap_new_from_string()</a></span> to get the exact same keymap (possibly in another process, etc.).</p>
<p>The returned string is <em>dynamically allocated</em> and should be freed by the caller.</p>
<dl class="section since"><dt>Since</dt><dd>1.12.0</dd></dl>
<dl class="section see"><dt>See also</dt><dd><span class="tt"><a class="el" href="#gad41304fe0b54e1cc5739b12a4796396b" title="Get the compiled keymap as a string.">xkb_keymap_get_as_string()</a></span> </dd>
<dd>
<span class="tt"><a class="el" href="#ga8d47182d367aa041b380fb49a61660bd" title="Create a keymap from a keymap string.">xkb_keymap_new_from_string()</a></span> </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.16.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
