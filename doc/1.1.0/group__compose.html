<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libxkbcommon: Compose and dead-keys support</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libxkbcommon
   &#160;<span id="projectnumber">1.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Compose and dead-keys support</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structxkb__compose__table.html">xkb_compose_table</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structxkb__compose__state.html">xkb_compose_state</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gaa084fc9970c11056e55a4e87c3f75d1d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__compose.html#gaa084fc9970c11056e55a4e87c3f75d1d">xkb_compose_compile_flags</a> { <a class="el" href="group__compose.html#ggaa084fc9970c11056e55a4e87c3f75d1da1947d1acbf946a93c7649b77553a515c">XKB_COMPOSE_COMPILE_NO_FLAGS</a> = 0
 }</td></tr>
<tr class="separator:gaa084fc9970c11056e55a4e87c3f75d1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga797e5c1891813af2168da856318fbd58"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__compose.html#ga797e5c1891813af2168da856318fbd58">xkb_compose_format</a> { <a class="el" href="group__compose.html#gga797e5c1891813af2168da856318fbd58a0edbcdb7051c5b50a9c42c591f23711a">XKB_COMPOSE_FORMAT_TEXT_V1</a> = 1
 }</td></tr>
<tr class="separator:ga797e5c1891813af2168da856318fbd58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga57cc0f33c6c58892bb0952eb3ae01625"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__compose.html#ga57cc0f33c6c58892bb0952eb3ae01625">xkb_compose_state_flags</a> { <a class="el" href="group__compose.html#gga57cc0f33c6c58892bb0952eb3ae01625aba9ee1d77bbe1434b6e2b3bff5c33cbe">XKB_COMPOSE_STATE_NO_FLAGS</a> = 0
 }</td></tr>
<tr class="separator:ga57cc0f33c6c58892bb0952eb3ae01625"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe19c07d2d020dce3b43694f2caccd4c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__compose.html#gafe19c07d2d020dce3b43694f2caccd4c">xkb_compose_status</a> { <br />
&#160;&#160;<a class="el" href="group__compose.html#ggafe19c07d2d020dce3b43694f2caccd4caddfc78e4c158f3f3b87528656d81a1fd">XKB_COMPOSE_NOTHING</a>
, <br />
&#160;&#160;<a class="el" href="group__compose.html#ggafe19c07d2d020dce3b43694f2caccd4caecd08772293184e58dcef26dff360058">XKB_COMPOSE_COMPOSING</a>
, <br />
&#160;&#160;<a class="el" href="group__compose.html#ggafe19c07d2d020dce3b43694f2caccd4cac548adc59ce66fa684bb8d39133d65a6">XKB_COMPOSE_COMPOSED</a>
, <br />
&#160;&#160;<a class="el" href="group__compose.html#ggafe19c07d2d020dce3b43694f2caccd4ca274f406bc8b6e11fc55490cb30f5dac4">XKB_COMPOSE_CANCELLED</a>
<br />
 }</td></tr>
<tr class="separator:gafe19c07d2d020dce3b43694f2caccd4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac23567e60016c33146e372084b4022e4"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__compose.html#gac23567e60016c33146e372084b4022e4">xkb_compose_feed_result</a> { <br />
&#160;&#160;<a class="el" href="group__compose.html#ggac23567e60016c33146e372084b4022e4a0590d1b5cebad42bcc6ae231cb213cfd">XKB_COMPOSE_FEED_IGNORED</a>
, <br />
&#160;&#160;<a class="el" href="group__compose.html#ggac23567e60016c33146e372084b4022e4a7d1d730fb795a661b670a3df9415fb3d">XKB_COMPOSE_FEED_ACCEPTED</a>
<br />
 }</td></tr>
<tr class="separator:gac23567e60016c33146e372084b4022e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gadf23e7ee37c26aa0fc68ffc1213349ea"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structxkb__compose__table.html">xkb_compose_table</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__compose.html#gadf23e7ee37c26aa0fc68ffc1213349ea">xkb_compose_table::xkb_compose_table_new_from_locale</a> (struct <a class="el" href="structxkb__context.html">xkb_context</a> *context, const char *locale, enum <a class="el" href="group__compose.html#gaa084fc9970c11056e55a4e87c3f75d1d">xkb_compose_compile_flags</a> flags)</td></tr>
<tr class="separator:gadf23e7ee37c26aa0fc68ffc1213349ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70371f9228c3a6c45177209d823bc4a0"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structxkb__compose__table.html">xkb_compose_table</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__compose.html#ga70371f9228c3a6c45177209d823bc4a0">xkb_compose_table::xkb_compose_table_new_from_file</a> (struct <a class="el" href="structxkb__context.html">xkb_context</a> *context, FILE *file, const char *locale, enum <a class="el" href="group__compose.html#ga797e5c1891813af2168da856318fbd58">xkb_compose_format</a> format, enum <a class="el" href="group__compose.html#gaa084fc9970c11056e55a4e87c3f75d1d">xkb_compose_compile_flags</a> flags)</td></tr>
<tr class="separator:ga70371f9228c3a6c45177209d823bc4a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3c87860e151d65c3f3c5929cd48a7f46"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structxkb__compose__table.html">xkb_compose_table</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__compose.html#ga3c87860e151d65c3f3c5929cd48a7f46">xkb_compose_table::xkb_compose_table_new_from_buffer</a> (struct <a class="el" href="structxkb__context.html">xkb_context</a> *context, const char *buffer, size_t length, const char *locale, enum <a class="el" href="group__compose.html#ga797e5c1891813af2168da856318fbd58">xkb_compose_format</a> format, enum <a class="el" href="group__compose.html#gaa084fc9970c11056e55a4e87c3f75d1d">xkb_compose_compile_flags</a> flags)</td></tr>
<tr class="separator:ga3c87860e151d65c3f3c5929cd48a7f46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4b4f053245c06aaa90f97ef5ca13cfa0"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structxkb__compose__table.html">xkb_compose_table</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__compose.html#ga4b4f053245c06aaa90f97ef5ca13cfa0">xkb_compose_table::xkb_compose_table_ref</a> (struct <a class="el" href="structxkb__compose__table.html">xkb_compose_table</a> *table)</td></tr>
<tr class="separator:ga4b4f053245c06aaa90f97ef5ca13cfa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6a685b4a346655a78c2737b603cb1526"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__compose.html#ga6a685b4a346655a78c2737b603cb1526">xkb_compose_table::xkb_compose_table_unref</a> (struct <a class="el" href="structxkb__compose__table.html">xkb_compose_table</a> *table)</td></tr>
<tr class="separator:ga6a685b4a346655a78c2737b603cb1526"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaccbf404876ecd7c5c8de818dbfcb0974"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structxkb__compose__state.html">xkb_compose_state</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__compose.html#gaccbf404876ecd7c5c8de818dbfcb0974">xkb_compose_state::xkb_compose_state_new</a> (struct <a class="el" href="structxkb__compose__table.html">xkb_compose_table</a> *table, enum <a class="el" href="group__compose.html#ga57cc0f33c6c58892bb0952eb3ae01625">xkb_compose_state_flags</a> flags)</td></tr>
<tr class="separator:gaccbf404876ecd7c5c8de818dbfcb0974"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga24bd2f31607735eaad2f6f5ee4cd3204"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structxkb__compose__state.html">xkb_compose_state</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__compose.html#ga24bd2f31607735eaad2f6f5ee4cd3204">xkb_compose_state::xkb_compose_state_ref</a> (struct <a class="el" href="structxkb__compose__state.html">xkb_compose_state</a> *state)</td></tr>
<tr class="separator:ga24bd2f31607735eaad2f6f5ee4cd3204"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga63939a8a3b5caea77bb089b416800d82"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__compose.html#ga63939a8a3b5caea77bb089b416800d82">xkb_compose_state::xkb_compose_state_unref</a> (struct <a class="el" href="structxkb__compose__state.html">xkb_compose_state</a> *state)</td></tr>
<tr class="separator:ga63939a8a3b5caea77bb089b416800d82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2d53d41e113e2e2b6cfac44842e373b3"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structxkb__compose__table.html">xkb_compose_table</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__compose.html#ga2d53d41e113e2e2b6cfac44842e373b3">xkb_compose_state::xkb_compose_state_get_compose_table</a> (struct <a class="el" href="structxkb__compose__state.html">xkb_compose_state</a> *state)</td></tr>
<tr class="separator:ga2d53d41e113e2e2b6cfac44842e373b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1e547b2ac4e45a74bf81ad9f3b690c26"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="group__compose.html#gac23567e60016c33146e372084b4022e4">xkb_compose_feed_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__compose.html#ga1e547b2ac4e45a74bf81ad9f3b690c26">xkb_compose_state::xkb_compose_state_feed</a> (struct <a class="el" href="structxkb__compose__state.html">xkb_compose_state</a> *state, <a class="el" href="xkbcommon_8h.html#a79e604a22703391bdfe212cfc10ea007">xkb_keysym_t</a> keysym)</td></tr>
<tr class="separator:ga1e547b2ac4e45a74bf81ad9f3b690c26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga44933542e8f5ac5313bb559f6bd64bb3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__compose.html#ga44933542e8f5ac5313bb559f6bd64bb3">xkb_compose_state::xkb_compose_state_reset</a> (struct <a class="el" href="structxkb__compose__state.html">xkb_compose_state</a> *state)</td></tr>
<tr class="separator:ga44933542e8f5ac5313bb559f6bd64bb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadbee39f6882cc2d0d93203d157156460"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="group__compose.html#gafe19c07d2d020dce3b43694f2caccd4c">xkb_compose_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__compose.html#gadbee39f6882cc2d0d93203d157156460">xkb_compose_state::xkb_compose_state_get_status</a> (struct <a class="el" href="structxkb__compose__state.html">xkb_compose_state</a> *state)</td></tr>
<tr class="separator:gadbee39f6882cc2d0d93203d157156460"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9c59f968ea39bcacc54917d0d8546d7d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__compose.html#ga9c59f968ea39bcacc54917d0d8546d7d">xkb_compose_state::xkb_compose_state_get_utf8</a> (struct <a class="el" href="structxkb__compose__state.html">xkb_compose_state</a> *state, char *buffer, size_t size)</td></tr>
<tr class="separator:ga9c59f968ea39bcacc54917d0d8546d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga08916723f0c7e337f4de01a024e69837"><td class="memItemLeft" align="right" valign="top"><a class="el" href="xkbcommon_8h.html#a79e604a22703391bdfe212cfc10ea007">xkb_keysym_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__compose.html#ga08916723f0c7e337f4de01a024e69837">xkb_compose_state::xkb_compose_state_get_one_sym</a> (struct <a class="el" href="structxkb__compose__state.html">xkb_compose_state</a> *state)</td></tr>
<tr class="separator:ga08916723f0c7e337f4de01a024e69837"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Support for Compose and dead-keys. </p>
<dl class="section since"><dt>Since</dt><dd>0.5.0 </dd></dl>


<h3><a id="compose-overview"></a>Overview</h3><div class="textblock"><p></p>
<p>Compose and dead-keys are a common feature of many keyboard input systems. They extend the range of the keysysm that can be produced directly from a keyboard by using a sequence of key strokes, instead of just one.</p>
<p>Here are some example sequences, in the libX11 Compose file format: </p><pre class="fragment">&lt;dead_acute&gt; &lt;a&gt;         : "รก"   aacute # LATIN SMALL LETTER A WITH ACUTE
&lt;Multi_key&gt; &lt;A&gt; &lt;T&gt;      : "@"   at     # COMMERCIAL AT
</pre><p> When the user presses a key which produces the <code>&lt;dead_acute&gt;</code> keysym, nothing initially happens (thus the key is dubbed a "dead-key"). But when the user enters <code>&lt;a&gt;</code>, "รก" is "composed", in place of "a". If instead the user had entered a keysym which does not follow <code>&lt;dead_acute&gt;</code> in any compose sequence, the sequence is said to be "cancelled".</p>
<p>Compose files define many such sequences. For a description of the common file format for Compose files, see the Compose(5) man page.</p>
<p>A successfuly-composed sequence has two results: a keysym and a UTF-8 string. At least one of the two is defined for each sequence. If only a keysym is given, the keysym's string representation is used for the result string (using <a class="el" href="group__keysyms.html#ga5fdd795b5799f131866cb1c5315af81f" title="Get the Unicode/UTF-8 representation of a keysym.">xkb_keysym_to_utf8()</a>).</p>
<p>This library provides low-level support for Compose file parsing and processing. Higher-level APIs (such as libX11's <code>Xutf8LookupString</code>(3)) may be built upon it, or it can be used directly.</p>
<p></p>
</div>

<h3><a id="compose-conflicting"></a>Conflicting Sequences</h3><div class="textblock"><p></p>
<p>To avoid ambiguity, a sequence is not allowed to be a prefix of another. In such a case, the conflict is resolved thus:</p>
<ol type="1">
<li>A longer sequence overrides a shorter one.</li>
<li>An equal sequence overrides an existing one.</li>
<li>A shorter sequence does not override a longer one.</li>
</ol>
<p>Sequences of length 1 are allowed.</p>
<p></p>
</div>

<h3><a id="compose-cancellation"></a>Cancellation Behavior</h3><div class="textblock"><p></p>
<p>What should happen when a sequence is cancelled? For example, consider there are only the above sequences, and the input keysyms are <code>&lt;dead_acute&gt; &lt;b&gt;</code>. There are a few approaches:</p>
<ol type="1">
<li>Swallow the cancelling keysym; that is, no keysym is produced. This is the approach taken by libX11.</li>
<li>Let the cancelling keysym through; that is, <code>&lt;b&gt;</code> is produced.</li>
<li>Replay the entire sequence; that is, <code>&lt;dead_acute&gt; &lt;b&gt;</code> is produced. This is the approach taken by Microsoft Windows (approximately; instead of <code>&lt;dead_acute&gt;</code>, the underlying key is used. This is difficult to simulate with XKB keymaps).</li>
</ol>
<p>You can program whichever approach best fits users' expectations.</p>
<p></p>
</div>

<h3><a id="compose-locale"></a>Compose Locale</h3><div class="textblock"><p></p>
<p>Compose files are locale dependent:</p><ul>
<li>Compose files are written for a locale, and the locale is used when searching for the appropriate file to use.</li>
<li>Compose files may reference the locale internally, with directives such as %L.</li>
</ul>
<p>As such, functions like <a class="el" href="group__compose.html#gadf23e7ee37c26aa0fc68ffc1213349ea" title="Create a compose table for a given locale.">xkb_compose_table_new_from_locale()</a> require a <code>locale</code> parameter. This will usually be the current locale (see locale(7) for more details). You may also want to allow the user to explicitly configure it, so he can use the Compose file of a given locale, but not use that locale for other things.</p>
<p>You may query the current locale as follows: </p><div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> *locale;</div>
<div class="line">locale = setlocale(LC_CTYPE, NULL);</div>
</div><!-- fragment --><p>This will only give useful results if the program had previously set the current locale using setlocale(3), with <code>LC_CTYPE</code> or <code>LC_ALL</code> and a non-NULL argument.</p>
<p>If you prefer not to use the locale system of the C runtime library, you may nevertheless obtain the user's locale directly using environment variables, as described in locale(7). For example, </p><div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> *locale;</div>
<div class="line">locale = getenv(<span class="stringliteral">&quot;LC_ALL&quot;</span>);</div>
<div class="line"><span class="keywordflow">if</span> (!locale || !*locale)</div>
<div class="line">    locale = getenv(<span class="stringliteral">&quot;LC_CTYPE&quot;</span>);</div>
<div class="line"><span class="keywordflow">if</span> (!locale || !*locale)</div>
<div class="line">    locale = getenv(<span class="stringliteral">&quot;LANG&quot;</span>);</div>
<div class="line"><span class="keywordflow">if</span> (!locale || !*locale)</div>
<div class="line">    locale = <span class="stringliteral">&quot;C&quot;</span>;</div>
</div><!-- fragment --><p>Note that some locales supported by the C standard library may not have a Compose file assigned.</p>
<p></p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gaa084fc9970c11056e55a4e87c3f75d1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa084fc9970c11056e55a4e87c3f75d1d">&#9670;&nbsp;</a></span>xkb_compose_compile_flags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__compose.html#gaa084fc9970c11056e55a4e87c3f75d1d">xkb_compose_compile_flags</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flags affecting Compose file compilation. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggaa084fc9970c11056e55a4e87c3f75d1da1947d1acbf946a93c7649b77553a515c"></a>XKB_COMPOSE_COMPILE_NO_FLAGS&#160;</td><td class="fielddoc"><p>Do not apply any flags. </p>
</td></tr>
</table>

</div>
</div>
<a id="ga797e5c1891813af2168da856318fbd58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga797e5c1891813af2168da856318fbd58">&#9670;&nbsp;</a></span>xkb_compose_format</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__compose.html#ga797e5c1891813af2168da856318fbd58">xkb_compose_format</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The recognized Compose file formats. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga797e5c1891813af2168da856318fbd58a0edbcdb7051c5b50a9c42c591f23711a"></a>XKB_COMPOSE_FORMAT_TEXT_V1&#160;</td><td class="fielddoc"><p>The classic libX11 Compose text format, described in Compose(5). </p>
</td></tr>
</table>

</div>
</div>
<a id="ga57cc0f33c6c58892bb0952eb3ae01625"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga57cc0f33c6c58892bb0952eb3ae01625">&#9670;&nbsp;</a></span>xkb_compose_state_flags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__compose.html#ga57cc0f33c6c58892bb0952eb3ae01625">xkb_compose_state_flags</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flags for compose state creation. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga57cc0f33c6c58892bb0952eb3ae01625aba9ee1d77bbe1434b6e2b3bff5c33cbe"></a>XKB_COMPOSE_STATE_NO_FLAGS&#160;</td><td class="fielddoc"><p>Do not apply any flags. </p>
</td></tr>
</table>

</div>
</div>
<a id="gafe19c07d2d020dce3b43694f2caccd4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafe19c07d2d020dce3b43694f2caccd4c">&#9670;&nbsp;</a></span>xkb_compose_status</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__compose.html#gafe19c07d2d020dce3b43694f2caccd4c">xkb_compose_status</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Status of the Compose sequence state machine. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggafe19c07d2d020dce3b43694f2caccd4caddfc78e4c158f3f3b87528656d81a1fd"></a>XKB_COMPOSE_NOTHING&#160;</td><td class="fielddoc"><p>The initial state; no sequence has started yet. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafe19c07d2d020dce3b43694f2caccd4caecd08772293184e58dcef26dff360058"></a>XKB_COMPOSE_COMPOSING&#160;</td><td class="fielddoc"><p>In the middle of a sequence. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafe19c07d2d020dce3b43694f2caccd4cac548adc59ce66fa684bb8d39133d65a6"></a>XKB_COMPOSE_COMPOSED&#160;</td><td class="fielddoc"><p>A complete sequence has been matched. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafe19c07d2d020dce3b43694f2caccd4ca274f406bc8b6e11fc55490cb30f5dac4"></a>XKB_COMPOSE_CANCELLED&#160;</td><td class="fielddoc"><p>The last sequence was cancelled due to an unmatched keysym. </p>
</td></tr>
</table>

</div>
</div>
<a id="gac23567e60016c33146e372084b4022e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac23567e60016c33146e372084b4022e4">&#9670;&nbsp;</a></span>xkb_compose_feed_result</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__compose.html#gac23567e60016c33146e372084b4022e4">xkb_compose_feed_result</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The effect of a keysym fed to <a class="el" href="group__compose.html#ga1e547b2ac4e45a74bf81ad9f3b690c26" title="Feed one keysym to the Compose sequence state machine.">xkb_compose_state_feed()</a>. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggac23567e60016c33146e372084b4022e4a0590d1b5cebad42bcc6ae231cb213cfd"></a>XKB_COMPOSE_FEED_IGNORED&#160;</td><td class="fielddoc"><p>The keysym had no effect - it did not affect the status. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggac23567e60016c33146e372084b4022e4a7d1d730fb795a661b670a3df9415fb3d"></a>XKB_COMPOSE_FEED_ACCEPTED&#160;</td><td class="fielddoc"><p>The keysym started, advanced or cancelled a sequence. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gadf23e7ee37c26aa0fc68ffc1213349ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadf23e7ee37c26aa0fc68ffc1213349ea">&#9670;&nbsp;</a></span>xkb_compose_table_new_from_locale()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structxkb__compose__table.html">xkb_compose_table</a> * xkb_compose_table_new_from_locale </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxkb__context.html">xkb_context</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>locale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__compose.html#gaa084fc9970c11056e55a4e87c3f75d1d">xkb_compose_compile_flags</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a compose table for a given locale. </p>
<p>The locale is used for searching the file-system for an appropriate Compose file. The search order is described in Compose(5). It is affected by the following environment variables:</p>
<ol type="1">
<li><code>XCOMPOSEFILE</code> - see Compose(5).</li>
<li><code>XDG_CONFIG_HOME</code> - before <code>$HOME/.XCompose</code> is checked, <code>$XDG_CONFIG_HOME/XCompose</code> is checked (with a fall back to <code>$HOME/.config/XCompose</code> if <code>XDG_CONFIG_HOME</code> is not defined). This is a libxkbcommon extension to the search procedure in Compose(5) (since libxkbcommon 1.0.0). Note that other implementations, such as libX11, might not find a Compose file in this path.</li>
<li><code>HOME</code> - see Compose(5).</li>
<li><code>XLOCALEDIR</code> - if set, used as the base directory for the system's X locale files, e.g. <code>/usr/share/X11/locale</code>, instead of the preconfigured directory.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The library context in which to create the compose table. </td></tr>
    <tr><td class="paramname">locale</td><td>The current locale. See <a class="el" href="group__compose.html">Compose Locale</a>. <br  />
 The value is copied, so it is safe to pass the result of getenv(3) (or similar) without fear of it being invalidated by a subsequent setenv(3) (or similar). </td></tr>
    <tr><td class="paramname">flags</td><td>Optional flags for the compose table, or 0.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A compose table for the given locale, or NULL if the compilation failed or a Compose file was not found. </dd></dl>

</div>
</div>
<a id="ga70371f9228c3a6c45177209d823bc4a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga70371f9228c3a6c45177209d823bc4a0">&#9670;&nbsp;</a></span>xkb_compose_table_new_from_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structxkb__compose__table.html">xkb_compose_table</a> * xkb_compose_table_new_from_file </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxkb__context.html">xkb_context</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>locale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__compose.html#ga797e5c1891813af2168da856318fbd58">xkb_compose_format</a>&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__compose.html#gaa084fc9970c11056e55a4e87c3f75d1d">xkb_compose_compile_flags</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new compose table from a Compose file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The library context in which to create the compose table. </td></tr>
    <tr><td class="paramname">file</td><td>The Compose file to compile. </td></tr>
    <tr><td class="paramname">locale</td><td>The current locale. See <a class="el" href="group__compose.html">Compose Locale</a>. </td></tr>
    <tr><td class="paramname">format</td><td>The text format of the Compose file to compile. </td></tr>
    <tr><td class="paramname">flags</td><td>Optional flags for the compose table, or 0.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A compose table compiled from the given file, or NULL if the compilation failed. </dd></dl>

</div>
</div>
<a id="ga3c87860e151d65c3f3c5929cd48a7f46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3c87860e151d65c3f3c5929cd48a7f46">&#9670;&nbsp;</a></span>xkb_compose_table_new_from_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structxkb__compose__table.html">xkb_compose_table</a> * xkb_compose_table_new_from_buffer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxkb__context.html">xkb_context</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>locale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__compose.html#ga797e5c1891813af2168da856318fbd58">xkb_compose_format</a>&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__compose.html#gaa084fc9970c11056e55a4e87c3f75d1d">xkb_compose_compile_flags</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new compose table from a memory buffer. </p>
<p>This is just like <a class="el" href="group__compose.html#ga70371f9228c3a6c45177209d823bc4a0" title="Create a new compose table from a Compose file.">xkb_compose_table_new_from_file()</a>, but instead of a file, gets the table as one enormous string.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__compose.html#ga70371f9228c3a6c45177209d823bc4a0" title="Create a new compose table from a Compose file.">xkb_compose_table_new_from_file()</a> </dd></dl>

</div>
</div>
<a id="ga4b4f053245c06aaa90f97ef5ca13cfa0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4b4f053245c06aaa90f97ef5ca13cfa0">&#9670;&nbsp;</a></span>xkb_compose_table_ref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structxkb__compose__table.html">xkb_compose_table</a> * xkb_compose_table_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxkb__compose__table.html">xkb_compose_table</a> *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Take a new reference on a compose table. </p>
<dl class="section return"><dt>Returns</dt><dd>The passed in object. </dd></dl>

</div>
</div>
<a id="ga6a685b4a346655a78c2737b603cb1526"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6a685b4a346655a78c2737b603cb1526">&#9670;&nbsp;</a></span>xkb_compose_table_unref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xkb_compose_table_unref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxkb__compose__table.html">xkb_compose_table</a> *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release a reference on a compose table, and possibly free it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The object. If it is NULL, this function does nothing. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaccbf404876ecd7c5c8de818dbfcb0974"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaccbf404876ecd7c5c8de818dbfcb0974">&#9670;&nbsp;</a></span>xkb_compose_state_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structxkb__compose__state.html">xkb_compose_state</a> * xkb_compose_state_new </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxkb__compose__table.html">xkb_compose_table</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__compose.html#ga57cc0f33c6c58892bb0952eb3ae01625">xkb_compose_state_flags</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new compose state object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The compose table the state will use. </td></tr>
    <tr><td class="paramname">flags</td><td>Optional flags for the compose state, or 0.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A new compose state, or NULL on failure. </dd></dl>

</div>
</div>
<a id="ga24bd2f31607735eaad2f6f5ee4cd3204"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga24bd2f31607735eaad2f6f5ee4cd3204">&#9670;&nbsp;</a></span>xkb_compose_state_ref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structxkb__compose__state.html">xkb_compose_state</a> * xkb_compose_state_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxkb__compose__state.html">xkb_compose_state</a> *&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Take a new reference on a compose state object. </p>
<dl class="section return"><dt>Returns</dt><dd>The passed in object. </dd></dl>

</div>
</div>
<a id="ga63939a8a3b5caea77bb089b416800d82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga63939a8a3b5caea77bb089b416800d82">&#9670;&nbsp;</a></span>xkb_compose_state_unref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xkb_compose_state_unref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxkb__compose__state.html">xkb_compose_state</a> *&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release a reference on a compose state object, and possibly free it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>The object. If NULL, do nothing. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga2d53d41e113e2e2b6cfac44842e373b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2d53d41e113e2e2b6cfac44842e373b3">&#9670;&nbsp;</a></span>xkb_compose_state_get_compose_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structxkb__compose__table.html">xkb_compose_table</a> * xkb_compose_state_get_compose_table </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxkb__compose__state.html">xkb_compose_state</a> *&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the compose table which a compose state object is using. </p>
<dl class="section return"><dt>Returns</dt><dd>The compose table which was passed to <a class="el" href="group__compose.html#gaccbf404876ecd7c5c8de818dbfcb0974" title="Create a new compose state object.">xkb_compose_state_new()</a> when creating this state object.</dd></dl>
<p>This function does not take a new reference on the compose table; you must explicitly reference it yourself if you plan to use it beyond the lifetime of the state. </p>

</div>
</div>
<a id="ga1e547b2ac4e45a74bf81ad9f3b690c26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1e547b2ac4e45a74bf81ad9f3b690c26">&#9670;&nbsp;</a></span>xkb_compose_state_feed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__compose.html#gac23567e60016c33146e372084b4022e4">xkb_compose_feed_result</a> xkb_compose_state_feed </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxkb__compose__state.html">xkb_compose_state</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xkbcommon_8h.html#a79e604a22703391bdfe212cfc10ea007">xkb_keysym_t</a>&#160;</td>
          <td class="paramname"><em>keysym</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Feed one keysym to the Compose sequence state machine. </p>
<p>This function can advance into a compose sequence, cancel a sequence, start a new sequence, or do nothing in particular. The resulting status may be observed with <a class="el" href="group__compose.html#gadbee39f6882cc2d0d93203d157156460" title="Get the current status of the compose state machine.">xkb_compose_state_get_status()</a>.</p>
<p>Some keysyms, such as keysyms for modifier keys, are ignored - they have no effect on the status or otherwise.</p>
<p>The following is a description of the possible status transitions, in the format CURRENT STATUS =&gt; NEXT STATUS, given a non-ignored input keysym <code>keysym</code>:</p>
<pre class="fragment">NOTHING or CANCELLED or COMPOSED =&gt;
   NOTHING   if keysym does not start a sequence.
   COMPOSING if keysym starts a sequence.
   COMPOSED  if keysym starts and terminates a single-keysym sequence.

COMPOSING =&gt;
   COMPOSING if keysym advances any of the currently possible
             sequences but does not terminate any of them.
   COMPOSED  if keysym terminates one of the currently possible
             sequences.
   CANCELLED if keysym does not advance any of the currently
             possible sequences.
</pre><p>The current Compose formats do not support multiple-keysyms. Therefore, if you are using a function such as <a class="el" href="group__state.html#ga47311e7268935dd2fe3e6ef057a82cb0" title="Get the keysyms obtained from pressing a particular key in a given keyboard state.">xkb_state_key_get_syms()</a> and it returns more than one keysym, consider feeding XKB_KEY_NoSymbol instead.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>The compose state object. </td></tr>
    <tr><td class="paramname">keysym</td><td>A keysym, usually obtained after a key-press event, with a function such as <a class="el" href="group__state.html#gae56031a8c1d48e7802da32f5f39f5738" title="Get the single keysym obtained from pressing a particular key in a given keyboard state.">xkb_state_key_get_one_sym()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether the keysym was ignored. This is useful, for example, if you want to keep a record of the sequence matched thus far. </dd></dl>

</div>
</div>
<a id="ga44933542e8f5ac5313bb559f6bd64bb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga44933542e8f5ac5313bb559f6bd64bb3">&#9670;&nbsp;</a></span>xkb_compose_state_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xkb_compose_state_reset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxkb__compose__state.html">xkb_compose_state</a> *&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset the Compose sequence state machine. </p>
<p>The status is set to XKB_COMPOSE_NOTHING, and the current sequence is discarded. </p>

</div>
</div>
<a id="gadbee39f6882cc2d0d93203d157156460"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadbee39f6882cc2d0d93203d157156460">&#9670;&nbsp;</a></span>xkb_compose_state_get_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__compose.html#gafe19c07d2d020dce3b43694f2caccd4c">xkb_compose_status</a> xkb_compose_state_get_status </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxkb__compose__state.html">xkb_compose_state</a> *&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current status of the compose state machine. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__compose.html#gafe19c07d2d020dce3b43694f2caccd4c" title="Status of the Compose sequence state machine.">xkb_compose_status</a> </dd></dl>

</div>
</div>
<a id="ga9c59f968ea39bcacc54917d0d8546d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9c59f968ea39bcacc54917d0d8546d7d">&#9670;&nbsp;</a></span>xkb_compose_state_get_utf8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xkb_compose_state_get_utf8 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxkb__compose__state.html">xkb_compose_state</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the result Unicode/UTF-8 string for a composed sequence. </p>
<p>See <a class="el" href="group__compose.html">Overview</a> for more details. This function is only useful when the status is XKB_COMPOSE_COMPOSED.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">state</td><td>The compose state. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buffer</td><td>A buffer to write the string into. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>Size of the buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>If the buffer passed is too small, the string is truncated (though still NUL-terminated).</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes required for the string, excluding the NUL byte. If the sequence is not complete, or does not have a viable result string, returns 0, and sets <code>buffer</code> to the empty string (if possible). </dd>
<dd>
You may check if truncation has occurred by comparing the return value with the size of <code>buffer</code>, similarly to the <code>snprintf</code>(3) function. You may safely pass NULL and 0 to <code>buffer</code> and <code>size</code> to find the required size (without the NUL-byte). </dd></dl>

</div>
</div>
<a id="ga08916723f0c7e337f4de01a024e69837"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga08916723f0c7e337f4de01a024e69837">&#9670;&nbsp;</a></span>xkb_compose_state_get_one_sym()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="xkbcommon_8h.html#a79e604a22703391bdfe212cfc10ea007">xkb_keysym_t</a> xkb_compose_state_get_one_sym </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxkb__compose__state.html">xkb_compose_state</a> *&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the result keysym for a composed sequence. </p>
<p>See <a class="el" href="group__compose.html">Overview</a> for more details. This function is only useful when the status is XKB_COMPOSE_COMPOSED.</p>
<dl class="section return"><dt>Returns</dt><dd>The result keysym. If the sequence is not complete, or does not specify a result keysym, returns XKB_KEY_NoSymbol. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
