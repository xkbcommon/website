<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libxkbcommon: XKB Compatibility</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libxkbcommon<span id="projectnumber">&#160;1.12.0</span>
   </div>
   <div id="projectbrief">Library implementing the XKB specification for parsing                           keyboard descriptions and handling keyboard state</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">XKB Compatibility </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul>
  <li class="level1">
    <a href="#keymap-support">Keymap support </a>
    <ul>
      <li class="level2">
        <a href="#general-features">General features </a>
      </li>
      <li class="level2">
        <a href="#compatibility-key-actions">Key actions </a>
      </li>
      <li class="level2">
        <a href="#keymap-text-format">Keymap text format </a>
      </li>
      <li class="level2">
        <a href="#api-2">API </a>
      </li>
    </ul>
  </li>
  <li class="level1">
    <a href="#rules-support">Rules support </a>
  </li>
  <li class="level1">
    <a href="#registry-support">Keyboard layout registry </a>
  </li>
  <li class="level1">
    <a href="#compose-support">Compose support </a>
  </li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_doc_2compatibility"></a></p>
<p>This page presents the differences between the <a href="https://www.x.org/releases/current/doc/kbproto/xkbproto.html">XKB 1.0 specification</a> implemented in current X servers and its implementation in libxkbcommon.</p>
<p>xkbcommon has <em>removed</em> support for some parts of the specification which introduced unnecessary complications. Many of these removals were in fact not implemented, or half-implemented at best, as well as being totally unused in the standard keyboard layout database, <a href="https://gitlab.freedesktop.org/xkeyboard-config/xkeyboard-config">xkeyboard-config</a>.</p>
<p>On the other hand, xkbcommon has notable additions that lift hard-coded limitation of the <a href="https://www.x.org/releases/current/doc/xproto/x11protocol.html#Keyboards">X11 Protocol</a>.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo</a></b></dt><dd>This page is work in progress. It aims to be exhaustive. Please <a href="https://github.com/xkbcommon/libxkbcommon/issues">report any issue</a>.</dd></dl>
<h1 class="doxsection"><a class="anchor" id="keymap-support"></a>
Keymap support</h1>
<h2 class="doxsection"><a class="anchor" id="general-features"></a>
General features</h2>
<table class="doxtable">
<caption>Keymap features compatibility table</caption>
<tr>
<th>Feature</th><th>X11</th><th>xkbcommon (v1 format)</th><th>xkbcommon (v2 format)</th></tr>
<tr>
<th>Wayland support</th><td><details >
<summary >
❌️ No support</summary>
<p>Wayland support requires the XWayland compatibility layer. </p>
</details>
</td><td colspan="2"><details >
<summary >
✅ Full support</summary>
<p>libxkbcommon is the <em>reference</em> implementation of the keyboard keymap handling (parsing/serializing, state) for Wayland. </p>
</details>
</td></tr>
<tr>
<th>User configuration</th><td><details >
<summary >
❌️ No support</summary>
<p>Layout database path is <em>hard-coded</em> in xserver.</p>
<p><span class="tt">xkbcomp</span> enable path configuration, but <span class="tt">setxkbmap</span> support is incomplete. </p>
</details>
</td><td colspan="2"><details >
<summary >
✅ Full support</summary>
<p>Multiple layout database path can be used simultaneously, enabling user-space configuration.</p>
<p>See <a class="el" href="user-configuration.html">User-configuration</a> for further information. </p>
</details>
</td></tr>
<tr>
<th>Keycode override with aliases</th><td><details >
<summary >
❌️ No support</summary>
<p>Keycodes have always priority over aliases. </p>
</details>
</td><td colspan="2"><details >
<summary >
✅ Full support (since 1.12)</summary>
<p>Keycodes and aliases share the same namespace. </p>
</details>
</td></tr>
<tr>
<th>Extended keycodes</th><td><details >
<summary >
❌️ No support</summary>
<p>Limited to <b>8</b>-bit keycodes. </p>
</details>
</td><td colspan="2"><details >
<summary >
✅ Full support</summary>
<p>Support all Linux keycodes using <b>32</b>-bit keycodes. </p>
</details>
</td></tr>
<tr>
<th>Extended key names</th><td><details >
<summary >
❌️ No support</summary>
<p>Limited to <b>4</b>-character names. </p>
</details>
</td><td colspan="2"><details >
<summary >
✅ Full support</summary>
<p>Support any key names of any length. </p>
</details>
</td></tr>
<tr>
<th>Extended number of layouts</th><td><details >
<summary >
❌️ No support</summary>
<p>Limited to <b>4</b> layouts. </p>
</details>
</td><td><details >
<summary >
❌️ No support</summary>
<p>Limited to <b>4</b> layouts. </p>
</details>
</td><td><details >
<summary >
✅ Full support (since 1.11)</summary>
<p>Enable up to <b>32</b> layouts when using <span class="tt"><a class="el" href="group__keymap.html#ggab0f75d6cc5773e5dd404e2c3f61366a3a3a8d8e0c27ea5b4dc56a30b973ce6402" title="Xkbcommon extensions of the classic XKB text format, incompatible with X11.">XKB_KEYMAP_FORMAT_TEXT_V2</a></span>. </p>
</details>
</td></tr>
<tr>
<th>Unified modifiers</th><td><details >
<summary >
❌️ No support</summary>
<p>Clear separation between <em>real</em> (i.e. core) and <em>virtual</em> modifiers. </p>
</details>
</td><td colspan="2"><details >
<summary >
✅ Full support</summary>
<p>Real and virtual modifiers have been collapsed into the same namespace, with a “significant” flag that largely parallels the core/virtual split.</p>
<p>Real modifiers are predefined modifiers with fixed encoding and considered merely as a X11 compatibility feature. </p>
</details>
</td></tr>
<tr>
<th>Extended modifiers</th><td><details >
<summary >
❌️ No support</summary>
<p>Limited to up to <b>8</b> <em>independent</em> modifiers. </p>
</details>
</td><td colspan="2"><details >
<summary >
✅ Full support</summary>
<p>Enable up to <b>32</b> <em>independent</em> modifiers. </p>
</details>
</td></tr>
<tr>
<th>Canonical virtual modifiers</th><td><details >
<summary >
❌️ No support</summary>
<p>Virtual modifiers can only mapped to <em>real</em> modifiers (8 bits). </p>
</details>
</td><td><details >
<summary >
⚠️ Partial support</summary>
<p>Only if using explicit mapping: e.g. <span class="tt">virtual_modifiers M = 0x100;</span> if <span class="tt">M</span> has the modifier index 8. </p>
</details>
</td><td><details >
<summary >
✅ Full support</summary>
<p>Virtual modifiers that are not mapped either <em>explicitly</em> (using e.g. <span class="tt">virtual_modifiers M = …</span>) or <em>implicitly</em> (using <span class="tt">modifier_map</span> and <span class="tt">virtualModifier</span>) <a class="el" href="keymap-text-format-v1-v2.html#auto-modifier-encoding">automatically</a> use to their <em><a class="el" href="keymap-text-format-v1-v2.html#canonical-modifier-def">canonical mapping</a></em>. </p>
</details>
</td></tr>
<tr>
<th>Multiple keysyms per level</th><td><details >
<summary >
❌️ Parsing only</summary>
<p>Ignored: fallback to <span class="tt">NoSymbol</span>. </p>
</details>
</td><td colspan="2"><details >
<summary >
✅ Full support</summary>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo</a></b></dt><dd>rationale </dd></dl>
</details>
</td></tr>
<tr>
<th>Multiple actions per level</th><td><details >
<summary >
❌️ No support</summary>
<p>Parse error. </p>
</details>
</td><td><details >
<summary >
⚠️ Parsing &amp; handling, no serialization</summary>
<p>Currently limited to 1 action for each action type “group” and “modifier”.</p>
<dl class="section since"><dt>Since</dt><dd>1.8: Enable multiple actions per level (parsing, serializing &amp; handling). </dd>
<dd>
1.11: Serialize to <span class="tt">VoidAction()</span> for compatibility with X11. </dd></dl>
</details>
</td><td><details >
<summary >
⚠️ Partial support</summary>
<p>Currently limited to 1 action for each action type “group” and “modifier”.</p>
<dl class="section since"><dt>Since</dt><dd>1.11 </dd></dl>
</details>
</td></tr>
<tr>
<th>Geometry<a class="anchor" id="geometry-support"></a></th><td>✅ Full support</td><td colspan="2"><details >
<summary >
⚠️ Parsing only</summary>
<p></p>
<p>Rational:</p><ul>
<li>There were very few geometry definitions available in <a href="https://gitlab.freedesktop.org/xkeyboard-config/xkeyboard-config">xkeyboard-config</a>, and while xkbcommon was responsible for parsing this insanely complex format, it never actually did anything with it.</li>
<li>Hopefully someone will develop a companion library which supports keyboard geometries in a more useful format, e.g. SVG. </li>
</ul>
</details>
</td></tr>
<tr>
<th>Radio groups</th><td>✅ Full support</td><td colspan="2"><details >
<summary >
❌️ No support</summary>
<p>Unused in <a href="https://gitlab.freedesktop.org/xkeyboard-config/xkeyboard-config">xkeyboard-config</a> layouts. </p>
</details>
</td></tr>
<tr>
<th>Overlays</th><td>✅ Full support</td><td colspan="2"><details >
<summary >
❌️ No support</summary>
<p>Unused in <a href="https://gitlab.freedesktop.org/xkeyboard-config/xkeyboard-config">xkeyboard-config</a> layouts. </p>
</details>
</td></tr>
<tr>
<th><a href="https://www.x.org/releases/current/doc/kbproto/xkbproto.html#Key_Behavior">Key behaviors</a></th><td>✅ Full support</td><td colspan="2"><details >
<summary >
❌️ No support</summary>
<p>Used to implement radio groups and overlays, and to deal with things like keys that physically lock;</p>
<p>Unused in <a href="https://gitlab.freedesktop.org/xkeyboard-config/xkeyboard-config">xkeyboard-config</a> layouts. </p>
</details>
</td></tr>
<tr>
<th><a href="https://www.x.org/releases/current/doc/kbproto/xkbproto.html#:~:text=IM_LEDDrivesKB">Indicator behaviors</a></th><td>✅ Full support</td><td colspan="2"><details >
<summary >
⚠️ Partial support</summary>
<p></p>
<p>E.g. LED-controls-key behavior (X11’s <span class="tt">IM_LEDDrivesKB</span> flag enabled) is not supported.</p>
<p>The only supported LED behavior is <em>key-controls-LED</em>.</p>
<p>Unused in <a href="https://gitlab.freedesktop.org/xkeyboard-config/xkeyboard-config">xkeyboard-config</a> layouts. </p>
</details>
</td></tr>
</table>
<h2 class="doxsection"><a class="anchor" id="compatibility-key-actions"></a>
Key actions</h2>
<table class="doxtable">
<caption>Key actions compatibility table</caption>
<tr>
<th>Type</th><th>Action</th><th>X11</th><th>xkbcommon (v1 format)</th><th>xkbcommon (v2 format)</th></tr>
<tr>
<th rowspan="2">Ineffectual</th><th><span class="tt">NoAction()</span></th><td>✅ Full support</td><td colspan="2">✅ Full support</td></tr>
<tr>
<th><span class="tt">VoidAction()</span></th><td>❌️ No support</td><td>⚠️ Parsing only (since 1.10)</td><td>✅ Full support (since 1.11)</td></tr>
<tr>
<th rowspan="3">Modifiers</th><th><span class="tt">SetModifiers()</span></th><td><details >
<summary >
⚠️ Partial support</summary>
<ul>
<li><span class="tt">unlockOnPress</span> parameter is not supported. </li>
</ul>
</details>
</td><td><details >
<summary >
⚠️ Partial support</summary>
<ul>
<li><span class="tt">unlockOnPress</span> parameter is not supported. Use <span class="tt"><a class="el" href="group__keymap.html#ggab0f75d6cc5773e5dd404e2c3f61366a3a3a8d8e0c27ea5b4dc56a30b973ce6402" title="Xkbcommon extensions of the classic XKB text format, incompatible with X11.">XKB_KEYMAP_FORMAT_TEXT_V2</a></span>. </li>
</ul>
</details>
</td><td><details >
<summary >
✅ Full support</summary>
<ul>
<li><span class="tt">unlockOnPress</span> parameter (since 1.11). See <a class="el" href="keymap-text-format-v1-v2.html#set-mods-action">its documentation</a> for further details. </li>
</ul>
</details>
</td></tr>
<tr>
<th><span class="tt">LatchModifiers()</span></th><td><details >
<summary >
⚠️ Partial support</summary>
<ul>
<li><span class="tt">latchOnPress</span> parameter is not supported.</li>
<li><span class="tt">unLockOnPress</span> parameter is not supported. </li>
</ul>
</details>
</td><td><details >
<summary >
⚠️ Partial support</summary>
<ul>
<li><span class="tt">latchOnPress</span> parameter is not supported. Use <span class="tt"><a class="el" href="group__keymap.html#ggab0f75d6cc5773e5dd404e2c3f61366a3a3a8d8e0c27ea5b4dc56a30b973ce6402" title="Xkbcommon extensions of the classic XKB text format, incompatible with X11.">XKB_KEYMAP_FORMAT_TEXT_V2</a></span>.</li>
<li><span class="tt">unLockOnPress</span> parameter is not supported. Use <span class="tt"><a class="el" href="group__keymap.html#ggab0f75d6cc5773e5dd404e2c3f61366a3a3a8d8e0c27ea5b4dc56a30b973ce6402" title="Xkbcommon extensions of the classic XKB text format, incompatible with X11.">XKB_KEYMAP_FORMAT_TEXT_V2</a></span>. </li>
</ul>
</details>
</td><td><details >
<summary >
✅ Full support</summary>
<ul>
<li><span class="tt">latchOnPress</span> parameter (since 1.11). See <a class="el" href="keymap-text-format-v1-v2.html#latch-mods-action">its documentation</a> for further details.</li>
<li><span class="tt">unLockOnPress</span> parameter (since 1.11). See <a class="el" href="keymap-text-format-v1-v2.html#latch-mods-action">its documentation</a> for further details. </li>
</ul>
</details>
</td></tr>
<tr>
<th><span class="tt">LockModifiers()</span></th><td><details >
<summary >
⚠️ Partial support</summary>
<ul>
<li><span class="tt">unlockOnPress</span> parameter is not supported. </li>
</ul>
</details>
</td><td><details >
<summary >
⚠️ Partial support</summary>
<ul>
<li><span class="tt">unlockOnPress</span> parameter is not supported. Use <span class="tt"><a class="el" href="group__keymap.html#ggab0f75d6cc5773e5dd404e2c3f61366a3a3a8d8e0c27ea5b4dc56a30b973ce6402" title="Xkbcommon extensions of the classic XKB text format, incompatible with X11.">XKB_KEYMAP_FORMAT_TEXT_V2</a></span>. </li>
</ul>
</details>
</td><td><details >
<summary >
✅ Full support</summary>
<ul>
<li><span class="tt">unlockOnPress</span> parameter (since 1.11). See <a class="el" href="keymap-text-format-v1-v2.html#lock-mods-action">its documentation</a> for further details. </li>
</ul>
</details>
</td></tr>
<tr>
<th rowspan="3">Groups</th><th><span class="tt">SetGroup()</span></th><td>✅ Full support</td><td colspan="2">✅ Full support</td></tr>
<tr>
<th><span class="tt">LatchGroup()</span></th><td>✅ Full support</td><td colspan="2">✅ Full support</td></tr>
<tr>
<th><span class="tt">LockGroup()</span></th><td><details >
<summary >
⚠️ Partial support</summary>
<ul>
<li><span class="tt">lockOnRelease</span> parameter is not supported. Use <span class="tt"><a class="el" href="group__keymap.html#ggab0f75d6cc5773e5dd404e2c3f61366a3a3a8d8e0c27ea5b4dc56a30b973ce6402" title="Xkbcommon extensions of the classic XKB text format, incompatible with X11.">XKB_KEYMAP_FORMAT_TEXT_V2</a></span>. </li>
</ul>
</details>
</td><td><details >
<summary >
⚠️ Partial support</summary>
<ul>
<li><span class="tt">lockOnRelease</span> parameter is not supported. Use <span class="tt"><a class="el" href="group__keymap.html#ggab0f75d6cc5773e5dd404e2c3f61366a3a3a8d8e0c27ea5b4dc56a30b973ce6402" title="Xkbcommon extensions of the classic XKB text format, incompatible with X11.">XKB_KEYMAP_FORMAT_TEXT_V2</a></span>. </li>
</ul>
</details>
</td><td><details >
<summary >
✅ Full support</summary>
<ul>
<li><span class="tt">lockOnRelease</span> (since 1.11). See <a class="el" href="keymap-text-format-v1-v2.html#lock-group-action">its documentation</a> for further details. </li>
</ul>
</details>
</td></tr>
<tr>
<th rowspan="9">Legacy action</th><th><span class="tt">MovePointer()</span></th><td>✅ Full support</td><td colspan="2">⚠️ Parsing and serializing only, no API support</td></tr>
<tr>
<th><span class="tt">PointerButton()</span></th><td>✅ Full support</td><td colspan="2">⚠️ Parsing and serializing only, no API support</td></tr>
<tr>
<th><span class="tt">LockPointerButton()</span></th><td>✅ Full support</td><td colspan="2">⚠️ Parsing and serializing only, no API support</td></tr>
<tr>
<th><span class="tt">SetPointerDefault()</span></th><td>✅ Full support</td><td colspan="2">⚠️ Parsing and serializing only, no API support</td></tr>
<tr>
<th><span class="tt">SetControls()</span></th><td>✅ Full support</td><td colspan="2">⚠️ Parsing and serializing only, no API support</td></tr>
<tr>
<th><span class="tt">LockControls()</span></th><td>✅ Full support</td><td colspan="2">⚠️ Parsing and serializing only, no API support</td></tr>
<tr>
<th><span class="tt">TerminateServer()</span></th><td>✅ Full support</td><td colspan="2">⚠️ Parsing and serializing only, no API support</td></tr>
<tr>
<th><span class="tt">SwitchScreen()</span></th><td>✅ Full support</td><td colspan="2">⚠️ Parsing and serializing only, no API support</td></tr>
<tr>
<th><span class="tt">Private()</span></th><td>✅ Full support</td><td colspan="2">⚠️ Parsing and serializing only, no API support</td></tr>
<tr>
<th rowspan="6">Unsupported legacy action</th><th><span class="tt">RedirectKey()</span></th><td>✅ Full support</td><td colspan="2">❌️ Parsing only</td></tr>
<tr>
<th><span class="tt">ISOLock()</span></th><td>✅ Full support</td><td colspan="2">❌️ Parsing only</td></tr>
<tr>
<th><span class="tt">DeviceButton()</span></th><td>✅ Full support</td><td colspan="2">❌️ Parsing only</td></tr>
<tr>
<th><span class="tt">LockDeviceButton()</span></th><td>✅ Full support</td><td colspan="2">❌️ Parsing only</td></tr>
<tr>
<th><span class="tt">DeviceValuator()</span></th><td>✅ Full support</td><td colspan="2">❌️ Parsing only</td></tr>
<tr>
<th><span class="tt">MessageAction()</span></th><td>✅ Full support</td><td colspan="2">❌️ Parsing only</td></tr>
</table>
<h2 class="doxsection"><a class="anchor" id="keymap-text-format"></a>
Keymap text format</h2>
<table class="doxtable">
<caption>Keymap text format compatibility table</caption>
<tr>
<th>Feature</th><th>X11 (xkbcomp)</th><th>xkbcommon (v1 format)</th><th>xkbcommon (v2 format)</th></tr>
<tr>
<th>Optional keymap components</th><td>❌️ All components are mandatory</td><td colspan="2"><details >
<summary >
✅ Full support (since 1.9)</summary>
<p>Keymap components are no longer mandatory, e.g. a keymap without a <span class="tt">xkb_types</span> section is legal. </p>
</details>
</td></tr>
<tr>
<th>Strong type check</th><td>❌️ Weak type check</td><td colspan="2"><details >
<summary >
⚠️ Stronger type check (WIP)</summary>
<p>Floating-point numbers cannot be used where an integer is expected. </p>
</details>
</td></tr>
<tr>
<th><span class="tt">replace</span> merge mode in include statements</th><td>❌️ No support</td><td colspan="2"><details >
<summary >
✅ Full support (since 1.9)</summary>
<p>Supported using the prefix <span class="tt">^</span>, in addition to the standard <em>merge</em> <span class="tt">|</span> and <em>override</em> <span class="tt">+</span> modes. </p>
</details>
</td></tr>
<tr>
<th>Keysym as strings</th><td>❌️ No support</td><td colspan="2"><details >
<summary >
✅ Full support (since 1.9)</summary>
<p>Keysyms can be written as their corresponding string, e.g. <span class="tt">udiaeresis</span> can be written <span class="tt">"ü"</span>. A string with multiple Unicode code points denotes a list of the corresponding keysyms. An empty string denotes the keysym <span class="tt">NoSymbol</span>. </p>
</details>
</td></tr>
<tr>
<th>Unicode escape sequence</th><td>❌️ No support</td><td colspan="2"><details >
<summary >
✅ Full support (since 1.9)</summary>
<p><span class="tt">\u{NNNN}</span>.</p>
<p>See <a class="el" href="keymap-text-format-v1-v2.html#keymap-string-literal">string literal</a> for further information. </p>
</details>
</td></tr>
<tr>
<th>Extended <span class="tt">GroupN</span> constants</th><td><details >
<summary >
❌️ No support</summary>
<p>Only <span class="tt">Group1</span>..<span class="tt">Group8</span> are supported, although the resulting group must be in the range 1..4. </p>
</details>
</td><td><details >
<summary >
❌️ No support</summary>
<p>Only <span class="tt">Group1</span>..<span class="tt">Group4</span> are supported.</p>
<p>Use <span class="tt"><a class="el" href="group__keymap.html#ggab0f75d6cc5773e5dd404e2c3f61366a3a3a8d8e0c27ea5b4dc56a30b973ce6402" title="Xkbcommon extensions of the classic XKB text format, incompatible with X11.">XKB_KEYMAP_FORMAT_TEXT_V2</a></span> in order to support further groups. </p>
</details>
</td><td><details >
<summary >
✅ Full support (since 1.11)</summary>
<p>The pattern <span class="tt">Group&lt;INDEX&gt;</span> can be used for any valid group index <span class="tt">&lt;INDEX&gt;</span>. </p>
</details>
</td></tr>
<tr>
<th>Extended <span class="tt">LevelN</span> constants</th><td><details >
<summary >
❌️ No support</summary>
<p>Only <span class="tt">Level1</span>..<span class="tt">Level8</span> are supported. </p>
</details>
</td><td colspan="2"><details >
<summary >
✅ Full support (since 1.11)</summary>
<p>Since 1.11, the pattern <span class="tt">Level&lt;INDEX&gt;</span> can be used for any valid level index <span class="tt">&lt;INDEX&gt;</span>.</p>
<p>Before 1.11, only <span class="tt">Level1</span>..<span class="tt">Level8</span> were supported. </p>
</details>
</td></tr>
<tr>
<th>Extended include</th><td>❌️ No support</td><td colspan="2"><details >
<summary >
✅ Full support (since 1.11)</summary>
<p>Enable <em>absolute</em> paths and <em><span class="tt">%</span>-expansion</em>.</p>
<p>See <a class="el" href="keymap-text-format-v1-v2.html#keymap-include-percent-expansion">keymap-include-percent-expansion</a> for further details. </p>
</details>
</td></tr>
<tr>
<th>Include predefined maps</th><td>✅ Full support</td><td colspan="2"><details >
<summary >
❌️ No support</summary>
<p>The modern approach is to use <a class="el" href="xkb-intro.html#RMLVO-intro">RMLVO</a>. </p>
</details>
</td></tr>
<tr>
<th>Exponent syntax for floating-point numbers</th><td>✅ Full support</td><td colspan="2"><details >
<summary >
❌️ No support</summary>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000004">Todo</a></b></dt><dd>syntax description </dd></dl>
</details>
</td></tr>
<tr>
<th><span class="tt">alternate</span> merge mode</th><td>✅ Full support</td><td colspan="2"><details >
<summary >
⚠️ Parsing, fallback to default merge mode</summary>
<p><span class="tt">alternate</span> was used in <span class="tt">xkb_keycodes</span> type sections and meant that if a new keycode name conflicts with an old one, consider it as a keycode <em>alias</em>. </p>
</details>
</td></tr>
<tr>
<th>Multiple group definition in symbols section</th><td>✅ Full support</td><td colspan="2"><details >
<summary >
⚠️ Supported, except in the @ref RMLVO-intro "RMLVO" API</summary>
<p>Since 1.8, only 1 group per symbol section is supported in the <a class="el" href="xkb-intro.html#RMLVO-intro">RMLVO</a> API, to avoid unintuitive results.</p>
<p>Multiple groups per symbol section is supported when parsing a <a class="el" href="xkb-intro.html#KcCGST-intro">KcCGST</a> keymap. </p>
</details>
</td></tr>
</table>
<h2 class="doxsection"><a class="anchor" id="api-2"></a>
API</h2>
<table class="doxtable">
<caption>API compatibility table</caption>
<tr>
<th>Feature</th><th>X11</th><th>xkbcommon (v1 format)</th><th>xkbcommon (v2 format)</th></tr>
<tr>
<th>Full Unicode support</th><td>❌️ Incomplete</td><td colspan="2"><details >
<summary >
✅ Full support</summary>
<p>Full support of simple case mappings for <span class="tt"><a class="el" href="group__keysyms.html#gaf888d4d0f209222fe9c0b7b324fd90ca" title="Convert a keysym to its lowercase form.">xkb_keysym_to_lower()</a></span> and <span class="tt"><a class="el" href="group__keysyms.html#ga616148547139853f6f413c9c0720780d" title="Convert a keysym to its uppercase form.">xkb_keysym_to_upper()</a></span>. </p>
</details>
</td></tr>
<tr>
<th><a class="el" href="xkb-intro.html#KcCGST-intro">KcCGST</a><a class="anchor" id="KcCGST-support"></a></th><td>✅ Full support</td><td colspan="2"><details >
<summary >
⚠️ Partial support (since 1.10)</summary>
<ul>
<li><a class="el" href="xkb-intro.html#KcCGST-intro">KcCGST</a> is considered an implementation detail, use <a class="el" href="xkb-intro.html#RMLVO-intro">RMLVO</a> instead.</li>
<li>Use <span class="tt"><a class="el" href="group__rules-api.html#ga2ea89fe80c7efaea931ed3c101813b02" title="Resolve RMLVO names to KcCGST components.">xkb_component_names::xkb_components_names_from_rules()</a></span> for debugging purposes. </li>
</ul>
</details>
</td></tr>
<tr>
<th>XKM file format</th><td>✅ Full support</td><td colspan="2"><details >
<summary >
❌️ No support</summary>
<p>Obsolete legacy file format tied to X11 ecosystem. </p>
</details>
</td></tr>
</table>
<h1 class="doxsection"><a class="anchor" id="rules-support"></a>
Rules support</h1>
<table class="doxtable">
<caption>API compatibility table</caption>
<tr>
<th>Feature</th><th>X11</th><th>xkbcommon (v1 format)</th><th>xkbcommon (v2 format)</th></tr>
<tr>
<th><span class="tt">! include</span> statement</th><td>❌️ No support</td><td colspan="2"><details >
<summary >
✅ Full support</summary>
<p>See <a class="el" href="rule-file-format.html#rules-include-expansion">rules include statement</a> for further details. </p>
</details>
</td></tr>
<tr>
<th><span class="tt">replace</span> merge mode</th><td>❌️ No support</td><td colspan="2"><details >
<summary >
✅ Full support (since 1.9)</summary>
<p>Support the merge mode <em>replace</em> via the prefix <span class="tt">^</span>, in addition to the standard <em>merge</em> <span class="tt">|</span> and <em>override</em> <span class="tt">+</span> modes. </p>
</details>
</td></tr>
<tr>
<th>Extended layout indices</th><td>❌️ No support</td><td colspan="2"><details >
<summary >
✅ Full support (since 1.8)</summary>
<ul>
<li><em>single</em>: matches a single layout; <span class="tt">layout[single]</span> is the same as without explicit index: <span class="tt">layout</span>.</li>
<li><em>first</em>: matches the first layout/variant, no matter how many layouts are in the RMLVO configuration. Acts as both <span class="tt">layout</span> and <span class="tt">layout[1]</span>.</li>
<li><em>later</em>: matches all but the first layout. This is an index range. Acts as <span class="tt">layout[2]</span> .. <span class="tt">layout[MAX_LAYOUT]</span>, where <span class="tt">MAX_LAYOUT</span> is currently 4.</li>
<li><em>any</em>: matches layout at any position. This is an index range.</li>
<li>the <span class="tt">:all</span> qualifier: it applies the qualified item to all layouts.</li>
</ul>
<p>See <a class="el" href="rule-file-format.html#rules-extended-layout-indices">extended layout indices</a> for further details. </p>
</details>
</td></tr>
<tr>
<th><span class="tt">:all</span> qualifier</th><td>❌️ No support</td><td colspan="2"><details >
<summary >
✅ Full support (since 1.8)</summary>
<p>the <span class="tt">:all</span> qualifier: it applies the qualified item to all layouts.</p>
<p>See <a class="el" href="rule-file-format.html#rules-all-qualifier">:all qualifier</a> for further details. </p>
</details>
</td></tr>
<tr>
<th>Extended wild cards</th><td>❌️ No support</td><td colspan="2"><details >
<summary >
✅ Full support (since 1.9)</summary>
<ul>
<li><span class="tt">&lt;none&gt;</span> matches <em>empty</em> value;</li>
<li><span class="tt">&lt;some&gt;</span> matches <em>non-empty</em> value in <em>every</em> context.</li>
<li><span class="tt">&lt;any&gt;</span> matches <em>optionally empty</em> value in <em>every</em> context, contrary to the legacy <span class="tt">*</span> wild card which does not match empty values for layout and variant.</li>
</ul>
<p>See <a class="el" href="rule-file-format.html#rules-wildcard-def">rules wildcards</a> for further information. </p>
</details>
</td></tr>
</table>
<h1 class="doxsection"><a class="anchor" id="registry-support"></a>
Keyboard layout registry</h1>
<table class="doxtable">
<caption>Keyboard layout registry support</caption>
<tr>
<th>Feature</th><th>X11</th><th>xkbcommon</th></tr>
<tr>
<th>XML format</th><td>❌️ No support</td><td><details >
<summary >
✅ Full support</summary>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000005">Todo</a></b></dt><dd>rationale </dd></dl>
</details>
</td></tr>
</table>
<h1 class="doxsection"><a class="anchor" id="compose-support"></a>
Compose support</h1>
<p>Relative to the standard implementation in libX11 (described in the Compose(5) man-page):</p>
<table class="doxtable">
<caption>Compose support</caption>
<tr>
<th>Feature</th><th>X11 (<span class="tt">libX11</span>)</th><th>xkbcommon</th></tr>
<tr>
<th><span class="tt">[!] MODIFIER</span> syntax</th><td>✅ Full support</td><td><details >
<summary >
⚠️ Parsing only</summary>
<p>Syntax: <span class="tt">[([!] ([~] MODIFIER)...) | None] &lt;keysym&gt;</span></p>
<p>If the modifier list is preceded by <span class="tt">!</span> it must match exactly. MODIFIER may be one of <span class="tt">Ctrl</span>, <span class="tt">Lock</span>, <span class="tt">Caps</span>, <span class="tt">Shift</span>, <span class="tt">Alt</span> or <span class="tt">Meta</span>. Each modifier may be preceded by a <span class="tt">~</span> character to indicate that the modifier must not be present. If <span class="tt">None</span> is specified, no modifier may be present.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000006">Todo</a></b></dt><dd>removal rationale </dd></dl>
</details>
</td></tr>
<tr>
<th>Modifier keysyms in sequences</th><td>✅ Full support</td><td><details >
<summary >
⚠️ Parsed, but key events are ignored</summary>
<p>Modifiers should not be used in Compose sequences. Use keymap’s features or a keysym with more appropriate semantics. </p>
</details>
</td></tr>
<tr>
<th>Interactions with Braille keysyms</th><td>✅ Full support</td><td><details >
<summary >
❌️ No support</summary>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000007">Todo</a></b></dt><dd>feature description, removal rationale </dd></dl>
</details>
</td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
