<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>libxkbcommon: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libxkbcommon
   &#160;<span id="projectnumber">0.4.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">libxkbcommon Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>xkbcommon is a keymap compiler and support library which processes a reduced subset of keymaps as defined by the XKB specification. Primarily, a keymap is created from a set of Rules/Model/Layout/Variant/Options names, processed through an XKB ruleset, and compiled into a struct <a class="el" href="structxkb__keymap.html" title="Opaque compiled keymap object. ">xkb_keymap</a>, which is the base type for all xkbcommon operations.</p>
<p>From an <a class="el" href="structxkb__keymap.html" title="Opaque compiled keymap object. ">xkb_keymap</a>, an <a class="el" href="structxkb__state.html" title="Opaque keyboard state object. ">xkb_state</a> object is created which holds the current state of all modifiers, groups, LEDs, etc, relating to that keymap. All key events must be fed into the <a class="el" href="structxkb__state.html" title="Opaque keyboard state object. ">xkb_state</a> object using <a class="el" href="group__state.html#gac554aa20743a621692c1a744a05e06ce" title="Update the keyboard state to reflect a given key being pressed or released. ">xkb_state_update_key()</a>. Once this is done, the <a class="el" href="structxkb__state.html" title="Opaque keyboard state object. ">xkb_state</a> object will be properly updated, and the keysyms to use can be obtained with <a class="el" href="group__state.html#ga47311e7268935dd2fe3e6ef057a82cb0" title="Get the keysyms obtained from pressing a particular key in a given keyboard state. ">xkb_state_key_get_syms()</a>.</p>
<p>libxkbcommon does not distribute a dataset itself, other than for testing purposes. The most common dataset is xkeyboard-config, as used by all current distributions for their X11 XKB data. More information on xkeyboard-config is available here: <a href="http://www.freedesktop.org/wiki/Software/XKeyboardConfig">http://www.freedesktop.org/wiki/Software/XKeyboardConfig</a></p>
<h2>Quick Guide</h2>
<p>See <a class="el" href="md_doc_quick-guide.html">Quick Guide</a>.</p>
<h2>API</h2>
<p>While xkbcommon's API is somewhat derived from the classic XKB API as found in X11/extensions/XKB.h and friends, it has been substantially reworked to expose fewer internal details to clients. The supported API is available in the xkbcommon/xkbcommon-*.h files. Additional support is provided for X11 (XCB) clients, in the xkbcommon-x11 library, <a class="el" href="xkbcommon-x11_8h.html" title="libxkbcommon-x11 API - Additional X11 support for xkbcommon. ">xkbcommon/xkbcommon-x11.h</a>.</p>
<p>The xkbcommon API and ABI are stable. We will attempt to not break ABI during a minor release series, so applications written against 0.1.0 should be completely compatible with 0.5.3, but not necessarily with 1.0.0. However, new symbols may be introduced in any release. Thus, anyone packaging xkbcommon should make sure any package depending on it depends on a release greater than or equal to the version it was built against (or earlier, if it doesn't use any newly-introduced symbols), but less than the next major release.</p>
<h2>Relation to X11</h2>
<p>Relative to the XKB 1.1 specification implemented in current X servers, xkbcommon has removed support for some parts of the specification which introduced unnecessary complications. Many of these removals were in fact not implemented, or half-implemented at best, as well as being totally unused in the standard dataset.</p>
<p>Notable removals:</p><ul>
<li>geometry support<ul>
<li>there were very few geometry definitions available, and while xkbcommon was responsible for parsing this insanely complex format, it never actually did anything with it</li>
<li>hopefully someone will develop a companion library which supports keyboard geometries in a more useful format</li>
</ul>
</li>
<li>KcCGST (keycodes/compat/geometry/symbols/types) API<ul>
<li>use RMLVO instead; KcCGST is now an implementation detail</li>
<li>including pre-defined keymap files</li>
</ul>
</li>
<li>XKM support<ul>
<li>may come in an optional X11 support/compatibility library</li>
</ul>
</li>
<li>around half of the interpret actions<ul>
<li>pointer device, message and redirect actions in particular</li>
</ul>
</li>
<li>non-virtual modifiers<ul>
<li>core and virtual modifiers have been collapsed into the same namespace, with a 'significant' flag that largely parallels the core/virtual split</li>
</ul>
</li>
<li>radio groups<ul>
<li>completely unused in current keymaps, never fully implemented</li>
</ul>
</li>
<li>overlays<ul>
<li>almost completely unused in current keymaps</li>
</ul>
</li>
<li>key behaviors<ul>
<li>used to implement radio groups and overlays, and to deal with things like keys that physically lock; unused in current keymaps</li>
</ul>
</li>
<li>indicator behaviours such as LED-controls-key<ul>
<li>the only supported LED behaviour is key-controls-LED; again this was never really used in current keymaps</li>
</ul>
</li>
</ul>
<p>Notable additions:</p><ul>
<li>32-bit keycodes</li>
<li>extended number of modifiers</li>
<li>extended number of groups</li>
<li>multiple keysyms per level<ul>
<li>this requires incompatible dataset changes, such that X11 would not be able to parse these</li>
</ul>
</li>
</ul>
<h2>Development</h2>
<p>An extremely rudimentary homepage can be found at <a href="http://xkbcommon.org">http://xkbcommon.org</a></p>
<p>xkbcommon is maintained in git at <a href="https://github.com/xkbcommon/libxkbcommon">https://github.com/xkbcommon/libxkbcommon</a></p>
<p>Patches are always welcome, and may be sent to either <a href="#" onclick="location.href='mai'+'lto:'+'xor'+'g-'+'dev'+'el'+'@li'+'st'+'s.x'+'.o'+'rg'; return false;">xorg-<span style="display: none;">.nosp@m.</span>deve<span style="display: none;">.nosp@m.</span>l@lis<span style="display: none;">.nosp@m.</span>ts.x<span style="display: none;">.nosp@m.</span>.org</a> or <a href="#" onclick="location.href='mai'+'lto:'+'way'+'la'+'nd-'+'de'+'vel'+'@l'+'ist'+'s.'+'fre'+'ed'+'esk'+'to'+'p.o'+'rg'; return false;">wayla<span style="display: none;">.nosp@m.</span>nd-d<span style="display: none;">.nosp@m.</span>evel@<span style="display: none;">.nosp@m.</span>list<span style="display: none;">.nosp@m.</span>s.fre<span style="display: none;">.nosp@m.</span>edes<span style="display: none;">.nosp@m.</span>ktop.<span style="display: none;">.nosp@m.</span>org</a></p>
<p>Bugs are also welcome, and may be reported either at Bugzilla <a href="https://bugs.freedesktop.org/describecomponents.cgi?product=libxkbcommon">https://bugs.freedesktop.org/describecomponents.cgi?product=libxkbcommon</a> or Github <a href="https://github.com/xkbcommon/libxkbcommon/issues">https://github.com/xkbcommon/libxkbcommon/issues</a></p>
<p>The maintainers are</p><ul>
<li>Daniel Stone <a href="#" onclick="location.href='mai'+'lto:'+'dan'+'ie'+'l@f'+'oo'+'ish'+'ba'+'r.o'+'rg'; return false;">danie<span style="display: none;">.nosp@m.</span>l@fo<span style="display: none;">.nosp@m.</span>oishb<span style="display: none;">.nosp@m.</span>ar.o<span style="display: none;">.nosp@m.</span>rg</a></li>
<li>Ran Benita <a href="#" onclick="location.href='mai'+'lto:'+'ran'+'23'+'4@g'+'ma'+'il.'+'co'+'m'; return false;">ran23<span style="display: none;">.nosp@m.</span>4@gm<span style="display: none;">.nosp@m.</span>ail.c<span style="display: none;">.nosp@m.</span>om</a></li>
</ul>
<h2>Credits</h2>
<p>Many thanks are due to Dan Nicholson for his heroic work in getting xkbcommon off the ground initially. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sun May 11 2014 10:02:00 for libxkbcommon by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
